#By Narzgel
#Edit for Rt56 by Spicyalfredo and Thinking_Waffle#
#	shared_focus = {
#		id = GEN_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id =
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}

### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}

	shared_focus = {
		id = GEN_Industrial_Start
		icon = GFX_goal_generic_production
		x = 35
		y = 0
		offset = {
			x = 23
			y = 0
			trigger = {
				tag = ALB
			}
		}
		offset = {
			x = -11
			y = 0
			trigger = {
				tag = DEN
			}
		}
		offset = {
			x = -17
			y = 6
			trigger = {
				tag = AUS
			}
		}
		cost = 5


		available_if_capitulated = yes


		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				uses = 1
				category = industry
			}
		}
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}

		ai_will_do = {
			factor = 5
			modifier = {	
				factor = 0
				original_tag = TML
			}
		}
	}

	shared_focus = {
		id = GEN_Expand_Infra
		icon = GFX_goal_generic_road
		prerequisite = { focus = GEN_Industrial_Start }
		x = -2
		y = 1
		relative_position_id = GEN_Industrial_Start

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 7
				tag = MEN
			}

		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = infrastructure_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = infrastructure
						size < 1
					}
				}
			}
		}

		available = {
			num_of_controlled_states > 0
		}

		completion_reward = {
			if = {
				limit = {
					has_idea = SOV_poor_railnetworks_0
				}
				 remove_ideas = SOV_poor_railnetworks_0
			}
			if = {
				limit = {
					has_idea = SOV_poor_railnetworks_1
				}
				remove_ideas = SOV_poor_railnetworks_1
			}
			if = {
				limit = {
					has_idea = SOV_poor_railnetworks_2
				}
				remove_ideas = SOV_poor_railnetworks_2
			}


			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = GEN_Expand_Infra_1
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = GEN_Expand_Infra_2
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	shared_focus = {
		id = GEN_Civilian_One #Expand Civilian Manufactures
		icon = GFX_focus_generic_industry_2
		prerequisite = { focus = GEN_Expand_Infra }
		x = 0
		y = 1
		relative_position_id = GEN_Expand_Infra

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 2
						include_locked = yes
					}
				}
			}
		}

		available = {
			has_tech = construction1
			num_of_controlled_states > 0
		}


		completion_reward = {
			if = {
				limit = {
					NOT = {
						AND = {
							is_ai = yes
							is_puppet = yes
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = GEN_Civilian_One_1
				}
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.50
				uses = 1
				category = industry
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_Civilian_Two #Improve Civilian Industry Capacity
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = GEN_Civilian_One }
		x = 0
		y = 1
		relative_position_id = GEN_Civilian_One

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 2
						include_locked = yes
					}
				}
			}
		}

		available = {
			has_tech = construction2
			num_of_controlled_states > 0
		}

		completion_reward = {
			if = {
				limit = {
					NOT = {
						AND = {
							is_ai = yes
							is_puppet = yes
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = GEN_Civilian_Two_1
				}
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.50
				uses = 1
				category = industry
			}
			if = {
				limit = {
					original_tag = ALB
					has_idea = great_depression_alb
				}
				remove_ideas = great_depression_alb
			}
			if = {
				limit = {
					original_tag = HUN
				}
				unlock_decision_category_tooltip = HUN_gyor_program_decision_category
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_Research #New Schools & Modern Teaching
		icon = GFX_focus_research
		prerequisite = { focus = GEN_Civilian_Two }

		x = -1
		y = 1
		relative_position_id = GEN_Civilian_Two

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		bypass = {
		}

		complete_tooltip = {
			add_research_slot = 1
		}
		available = {
			num_of_controlled_states > 0
		}
		completion_reward = {
			if = {
				limit = {
					has_idea = SOV_poorly_educated_population
					}
					remove_ideas = SOV_poorly_educated_population
			}
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Excavation #Reveal Mineral Wealth
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = GEN_Civilian_Two }
		x = 1
		y = 1
		relative_position_id = GEN_Civilian_Two

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 7
				tag = MEN
			}
		}

		bypass = {
		}

		available = {
			OR ={
				num_of_controlled_states > 1
				AND = {
					has_tech = excavation3
			 		num_of_controlled_states > 0
			 	}
			}
		}

		completion_reward = {
			if = {
				limit = {
					num_of_controlled_states < 2
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}

				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			add_tech_bonus = {
				name = excavation_tech_bonus_name
				bonus = 1
				uses = 2
				category = excavation_tech
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Refinery
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = GEN_Excavation }
		prerequisite = { focus = GEN_Research }
		x = -2
		y = 1
		relative_position_id = GEN_Excavation

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		bypass = {
		}

		available = {
			num_of_controlled_states > 0
			ROOT = { has_tech = synth_oil_experiments }
		}


		completion_reward = {
			




			if = {
				limit = {
					NOT = {
						AND = {
							is_ai = yes
							is_puppet = yes
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = synthetic_refinery
						level = 2
						instant_build = yes
					}
					set_state_flag = GEN_Refinery_1
				}
			}
			
			add_tech_bonus = {
				name = JAP_coal_liquification
				bonus = 1
				uses = 1
				category = synth_resources
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_OIL}
	}


	shared_focus = {
		id = GEN_Autarky #Reform The Taxes
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = GEN_Excavation }
		x = 0
		y = 1
		relative_position_id = GEN_Excavation

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		bypass = {
		}

		completion_reward = {
			add_ideas = GEN_Autarky_I
			#Banana Republic removal
			if = {
				limit = {
					original_tag = GUA
					has_idea =	GUA_banana_republic
				}
			remove_ideas = GUA_banana_republic
			}
			if = {
				limit = {
					has_idea =	ELS_banana_republic
					original_tag = ELS
				}
			remove_ideas = ELS_banana_republic
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
	}


	shared_focus = {
		id = GEN_Military_Buildup
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = GEN_Industrial_Start }
		x = 3
		y = 1

		relative_position_id = GEN_Industrial_Start

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				add = 7.5
				ROOT = {
					has_war = yes
				}
			}
			modifier = {
				factor = 0
				OR = {
					# we dont want chinese minors to go crazy on slots early since they get eaten
					tag = GXC
					tag = YUN
					tag = SHX
					tag = XSM
					tag = DEN

					# we also dont want tiny nations to go crazy with slots right away
				}
			}
		}

		#bypass = {
		#}
		available = {
			num_of_controlled_states > 0
			has_tech = basic_machine_tools
		}

		completion_reward = {
			hidden_effect = { #Setup so AI can do next two focuses
				if = {
					limit = {
						ROOT = {
							has_government = democratic
						}
					}
					add_ai_strategy = {
						type = befriend
						id = USA
						value = 50
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = fascism
						}
					}
					add_ai_strategy = {
						type = befriend
						id = GER
						value = 50
					}
				}
				else_if = {
					limit = {
						ROOT = {
							has_government = communism
						}
					}
					add_ai_strategy = {
						type = befriend
						id = SOV
						value = 50
					}
				}
			}






			if = {
				limit = {
					NOT = {
						AND = {
							is_ai = yes
							is_puppet = yes
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}

			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.50
				uses = 1
				technology = assembly_line_production
				technology = improved_machine_tools
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_Invite_German
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = { focus = GEN_Military_Buildup }
		mutually_exclusive = { focus = GEN_Invite_American }
		mutually_exclusive = { focus = GEN_Invite_Soviets }
		x = 0
		y = 1
		relative_position_id = GEN_Military_Buildup

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 6
				has_government = fascism
			}
		}

		bypass = {
		}

		available = {
			num_of_controlled_states > 0
			NOT = {
				OR = {
					original_tag = GER
					original_tag = WGR
					original_tag = DDR
					original_tag = PRE
				}
			}
			NOT = { has_government = communism }
				OR = {
					GER = {
						exists = yes
						has_capitulated = no
						has_opinion = { target = ROOT value > 49 }
						has_government = ROOT
						NOT = {
							has_war_with = ROOT
						}
					}
				if = {
					limit = { BAY = { exists = yes } }
					BAY = {
						exists = yes
						has_capitulated = no
						has_opinion = { target = ROOT value > 49 }
						has_government = ROOT
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				if = {
					limit = { PRE = { exists = yes } }
					PRE = {
						exists = yes
						has_capitulated = no
						has_opinion = { target = ROOT value > 49 }
						has_government = ROOT
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				if = {
					limit = { WGR = { exists = yes } }
					WGR = {
						exists = yes
						has_capitulated = no
						has_opinion = { target = ROOT value > 49 }
						has_government = ROOT
						NOT = {
							has_war_with = ROOT
						}
					}

					}
				}
		}

		completion_reward = {
			GER = {
				add_ai_strategy = {
					type = support
					id = ROOT
					value = 25
				}
				add_ai_strategy = {
					type = send_volunteers_desire
					id = ROOT
					value = 100
				}
			}
			if = {
				limit = {
					is_historical_focus_on = no
				}
				ROOT = {
					add_ai_strategy = {
						type = befriend
						id = GER
						value = 25
					}
				}
			}

			add_offsite_building = { type = industrial_complex level = 1 }

			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.50
				uses = 1
				category = industry
			}
			if = {
				limit = {
					GER = {
						has_government = ROOT
						NOT = {
							original_tag = GER
							original_tag = WGR
							original_tag = DDR
							original_tag = PRE
						}
					}
				}
				add_opinion_modifier = { target = GER modifier = gen_invited_german }
			}
			if = {
				limit = {
					WGR = {
						has_government = ROOT
						NOT = {
							original_tag = GER
							original_tag = PRE
							original_tag = DDR
							original_tag = WGR
						}
					}
				}
				add_opinion_modifier = { target = WGR modifier = gen_invited_german }
			}
			if = {
				limit = {
					PRE = {
						has_government = ROOT
						NOT = {
							original_tag = GER
							original_tag = WGR
							original_tag = DDR
							original_tag = PRE
						}
					}
				}
				add_opinion_modifier = { target = WGR modifier = gen_invited_german }
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_Invite_Soviets
		icon = GFX_focus_chi_mission_to_the_soviet_union
		prerequisite = { focus = GEN_Military_Buildup }
		mutually_exclusive = { focus = GEN_Invite_German }
		mutually_exclusive = { focus = GEN_Invite_American }
		x = 2
		y = 1
		relative_position_id = GEN_Military_Buildup

		allow_branch = {
			NOT = {
				original_tag = SOV
			}
		}

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 6
				has_government = communism
			}
		}

		bypass = {
		}

		available = {
			num_of_controlled_states > 0
			SOV = {
				exists = yes
				has_capitulated = no
				has_opinion = { target = ROOT value > 49 }
				has_government = communism
			}
			has_government = communism
			NOT = {
				has_war_with = SOV
			}
		}

		completion_reward = {
			SOV = {
				add_ai_strategy = {
					type = support
					id = ROOT
					value = 25
				}
				add_ai_strategy = {
					type = send_volunteers_desire
					id = ROOT
					value = 100
				}
			}

			add_offsite_building = { type = industrial_complex level = 1 }

			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.5
				uses = 1
				category = industry
			}

			add_opinion_modifier = { target = SOV modifier = gen_invited_soviet }
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_Soviet_Heavy_Industry
		icon = GFX_goal_generic_commie_investments
		prerequisite = { focus = GEN_Invite_Soviets }
		x = 0
		y = 2
		relative_position_id = GEN_Invite_Soviets

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		bypass = {
		}

		available = {
			num_of_controlled_states > 0
			SOV = {
				exists = yes
				has_capitulated = no
				has_opinion = { target = ROOT value > 49 }
				has_government = communism
			}
			OR = {
				has_tech = concentrated_industry2
				has_tech = dispersed_industry2
			}
		}

		completion_reward = {
			if = {
				limit = {
					NOT = {
						AND = {
							is_ai = yes
							is_puppet = yes
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	shared_focus = {
		id = GEN_German_Heavy
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = GEN_Invite_German }
		x = 0
		y = 2

		relative_position_id = GEN_Invite_German

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		bypass = {
		}

		available = {
			num_of_controlled_states > 0
			NOT = {
				OR = {
					original_tag = GER
					original_tag = WGR
					original_tag = DDR
				}
			}
			NOT = { has_government = communism }
				OR = {
					GER = {
						exists = yes
						has_capitulated = no
						has_opinion = { target = ROOT value > 49 }
						has_government = ROOT
						NOT = {
							has_war_with = ROOT
						}
					}
				if = {
					limit = { BAY = { exists = yes } }
					BAY = {
						exists = yes
						has_capitulated = no
						has_opinion = { target = ROOT value > 49 }
						has_government = ROOT
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				if = {
					limit = { PRE = { exists = yes } }
					PRE = {
						exists = yes
						has_capitulated = no
						has_opinion = { target = ROOT value > 49 }
						has_government = ROOT
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				if = {
					limit = { WGR = { exists = yes } }
					WGR = {
						exists = yes
						has_capitulated = no
						has_opinion = { target = ROOT value > 49 }
						has_government = ROOT
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				}
			OR = {
				has_tech = concentrated_industry2
				has_tech = dispersed_industry2
			}
		}

		completion_reward = {
			if = {
				limit = {
					NOT = {
						AND = {
							is_ai = yes
							is_puppet = yes
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = GEN_Civilian_One_1
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_Invite_American
		icon = GFX_focus_chi_mission_to_the_us
		prerequisite = { focus = GEN_Military_Buildup }
		x = -2
		y = 1
		relative_position_id = GEN_Military_Buildup
		mutually_exclusive = { focus = GEN_Invite_German }
		mutually_exclusive = { focus = GEN_Invite_Soviets }
		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 6
				has_government = democratic
			}
		}

		available = {
			num_of_controlled_states > 0
			USA = {
				exists = yes
				has_capitulated = no
				has_opinion = { target = ROOT value > 49 }
			}
			OR = {
				has_government = democratic
				has_government = neutrality
				USA = { has_government = ROOT }
			}
			not = {
				has_War_with = USA
			}
		}

		bypass = {
		}

		completion_reward = {
			USA = {
				add_ai_strategy = {
					type = support
					id = ROOT
					value = 25
				}
				add_ai_strategy = {
					type = send_volunteers_desire
					id = ROOT
					value = 100
				}
			}

			add_offsite_building = { type = industrial_complex level = 1 }

			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.50
				uses = 1
				category = industry
			}

			add_opinion_modifier = { target = USA modifier = gen_invited_american }
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_American_Air
		icon = GFX_focus_generic_aircraft_production
		prerequisite = { focus = GEN_Invite_American }
		x = 0
		y = 2

		relative_position_id = GEN_Invite_American

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		bypass = {
		}

		available = {
			num_of_controlled_states > 0
			USA = {
				exists = yes
				has_capitulated = no
				has_opinion = { target = ROOT value > 49 }
			}
			OR = {
				has_government = democratic
				has_government = neutrality
				USA = { has_government = ROOT }
			}
			not = {
				has_War_with = USA
			}
			OR = {
				has_tech = concentrated_industry2
				has_tech = dispersed_industry2
			}
		}

		completion_reward = {
			if = {
				limit = {
					NOT = {
						AND = {
							is_ai = yes
							is_puppet = yes
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = GEN_Civilian_One_1
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	shared_focus = {
		id = GEN_Futher_Investments #Encourage Foreign Investments
		icon = GFX_goal_generic_construction
		prerequisite = { focus = GEN_Invite_American focus = GEN_Invite_German focus = GEN_Invite_Soviets }
		x = 3
		y = 1
		relative_position_id = GEN_Invite_American

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		bypass = {
			custom_trigger_tooltip =  {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 2
						include_locked = yes
					}
				}
			}
		}

		available = {
			num_of_controlled_states > 1
			has_tech = construction3
		}


		completion_reward = {

			if = {
				limit = {
					NOT = {
						AND = {
							is_ai = yes
							is_puppet = yes
						}
					}
				}

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = GEN_Futher_Investments_1
			}

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = GEN_Futher_Investments_2
			}

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = GEN_Futher_Investments_3
			}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	shared_focus = {
		id = GEN_Automobile
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = GEN_Invite_American focus = GEN_Invite_German focus = GEN_Invite_Soviets}
		x = 1
		y = 1
		relative_position_id = GEN_Invite_American

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		bypass = {
		}

		available = {
			num_of_controlled_states > 0
			has_tech = motorised_infantry
		}

		complete_tooltip = {
		}

		completion_reward = {
			if = {
				limit = {
					NOT = {
						AND = {
							is_ai = yes
							is_puppet = yes
						}
					}
				}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

			add_tech_bonus = {
				name = FRA_mechanized_focus
				ahead_reduction = 0.5
				uses = 1
				category = cat_mechanized_equipment
			}

			if = {
				limit = {
					has_completed_focus = GEN_Invite_German
				}
				add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 125 producer = GER }
			}
			if = {
				limit = {
					has_completed_focus = GEN_Invite_American
				}
				add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 125 producer = USA }
			}

			if = {
				limit = {
					has_completed_focus = GEN_Invite_Soviets
				}
				add_equipment_to_stockpile = { type = motorized_equipment_1 amount = 125 producer = SOV }
			}

			custom_effect_tooltip = GEN_Automobile_tt
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MILITARY_EQUIPMENT }
	}


	shared_focus = {
		id = GEN_Licences
		icon = GFX_focus_generic_license_production
		prerequisite = { focus = GEN_American_Air focus = GEN_German_Heavy focus = GEN_Soviet_Heavy_Industry}
		x = 1
		y = 2
		offset = {
			x = -1
			y = 0
			trigger = {
				tag = SOV
			}
		}
		relative_position_id = GEN_Automobile

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		allow_branch = {
			has_dlc = "Death or Dishonor"
		}

		bypass = {
		}

		complete_tooltip = {
			add_ideas = GEN_Licences_I
			custom_effect_tooltip = GEN_Licences_EXPL
		}

		completion_reward = {
			add_ideas = GEN_Licences_I
			custom_effect_tooltip = GEN_Licences_EXPL
		}
	}


	shared_focus = {
		id = GEN_Industrial_Boom
		icon = GFX_goal_pp

		x = 65
		y = 0
		offset = {
			x = 22
			y = 0
			trigger = {
				tag = ALB
			}
		}
		offset = {
			x = -22
			y = 0
			trigger = {
				tag = CUB
			}
		}
		offset = {
			x = 15
			y = 0
			trigger = {
				tag = VNZ
			}
		}		
		offset = {
			x = -6
			y = 0
			trigger = {
				tag = FRI
			}
		}
		offset = {
			x = -14
			y = 0
			trigger = {
				has_focus_tree = israel_focus
			}
		}
		offset = {
			x = 10
			y = 0
			trigger = {
				tag = IRE
			}
		}
		offset = {
			x = -10
			y = 0
			trigger = {
				tag = MEX
			}
		}
		offset = {
			x = -39
			y = 6
			trigger = {
				tag = AUS
			}
		}
		cost = 10

		available_if_capitulated = yes
		continue_if_invalid = yes

		ai_will_do = {
			factor = 5
		}

		bypass = {
		}

		available = {
			ROOT = {
				num_of_controlled_states > 1
				num_of_factories > 25
			}
		}

		completion_reward = {
			add_political_power = 100
			add_stability = 0.05
			add_timed_idea = { idea = GEN_Industrial_Boom_I days = 365 }
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}


	shared_focus = {
		id = GEN_Industrial_Expansion
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = GEN_Industrial_Boom }
		x = -1
		y = 1
		relative_position_id = GEN_Industrial_Boom

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		bypass = {
		}

		available = {
			has_tech = construction3
		}

		completion_reward = {
			if = {
				limit = {
					NOT = {
						AND = {
							is_ai = yes
							is_puppet = yes
						}
					}
				}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_Railway_System
		icon = GFX_goal_generic_road2
		prerequisite = { focus = GEN_Industrial_Boom }
		x = 1
		y = 1
		relative_position_id = GEN_Industrial_Boom

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		bypass = {
		}

		available = {
			num_of_controlled_states > 3
		}

		completion_reward = {
			if = {
				limit = {
					NOT = {
						AND = {
							is_ai = yes
							is_puppet = yes
						}
					}
				}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_Communication
		icon = GFX_goal_generic_production2
		prerequisite = { focus = GEN_Railway_System }
		prerequisite = { focus = GEN_Industrial_Expansion }
		x = 1
		y = 1
		relative_position_id = GEN_Industrial_Expansion

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		bypass = {
		}

		complete_tooltip = {
		}

		completion_reward = {
			add_tech_bonus = {
				name = UK_secret_focus
				bonus = 1
				uses = 2
				category = electronics
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_University
		icon = GFX_focus_research2
		prerequisite = { focus = GEN_Communication }
		x = 0
		y = 1
		relative_position_id = GEN_Communication

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		bypass = {
		}

		available = {
			amount_research_slots < 6
		}

		complete_tooltip = {
		}

		completion_reward = {
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Aviation_Effort
		icon = GFX_goal_generic_airport
		x = 14
		y = 0
		offset = {
			x = 30
			y = 0
			trigger = {
				tag = ALB
			}
		}
		offset = {
			x = -4
			y = 0
			trigger = {
				tag = FRI
			}
		}
		offset = {
			x = 35
			y = 0
			trigger = {
				has_focus_tree = r56_india
			}
		}
		offset = {
			x = 10
			y = 0
			trigger = {
				has_focus_tree = ukraine_focus
			}
		}		
		offset = { #remove when air for WLS done
			x = 8
			y = 0
			trigger = {
				tag = WLS
			}
		}
		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			air_experience = 25

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}

			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_Foreign_Design
		icon = GFX_focus_generic_copy_plane_designs
		prerequisite = { focus = GEN_Aviation_Effort }
		mutually_exclusive = { focus = GEN_Own_Design }

		offset = {
			x = 0
			y = 0
			trigger = {
				tag = SOV
			}
		}

		x = 4
		y = 1

		relative_position_id = GEN_Aviation_Effort

		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			air_experience = 25
			#add_to_tech_sharing_group = HUN_joint_air_development_group
			add_to_tech_sharing_group = HUN_joint_air_development_group
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Aircraft_England
		icon = GFX_goal_fighters_uk
		prerequisite = { focus = GEN_Foreign_Design }
		mutually_exclusive = { focus = GEN_Aircraft_american }
		x = -5
		y = 1
		relative_position_id = GEN_Foreign_Design

		cost = 10

		available_if_capitulated = yes

		available = {
			ENG = {
				exists = yes
				has_capitulated = no
				has_opinion = { target = ROOT value > 49 }
			}
			OR = {
				has_government = democratic
				has_government = neutrality
				ENG = { has_government = ROOT }
			}
			not = {
				has_War_with = ENG
			}
		}

		completion_reward = {
			ENG = {
				add_ai_strategy = {
					type = support
					id = ROOT
					value = 25
				}
			}

			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = early_fighter
				technology = fighter1
				technology = fighter2
			}

			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = cv_early_fighter
				technology = cv_fighter1
			}

			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = naval_bomber1
				technology = naval_bomber2
			}

			add_opinion_modifier = { target = ENG modifier = gen_aircraft_england }
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_Aircraft_american
		icon = GFX_goal_fighters_usa
		prerequisite = { focus = GEN_Foreign_Design }
		mutually_exclusive = { focus = GEN_Aircraft_England }
		x = -3
		y = 1
		relative_position_id = GEN_Foreign_Design

		cost = 10

		available_if_capitulated = yes

		available = {
			USA = {
				exists = yes
				has_capitulated = no
				has_opinion = { target = ROOT value > 49 }
			}
			OR = {
				has_government = democratic
				has_government = neutrality
				USA = { has_government = ROOT }
			}
			not = {
				has_War_with = USA
			}
		}

		completion_reward = {
			USA = {
				add_ai_strategy = {
					type = support
					id = ROOT
					value = 25
				}
			}

			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = early_fighter
				technology = fighter1
				technology = fighter2
			}

			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = cv_early_fighter
				technology = cv_fighter1
			}

			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = naval_bomber1
				technology = naval_bomber2
			}

			add_opinion_modifier = { target = USA modifier = gen_aircraft_american }
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Aircraft_Soviet
		icon = GFX_goal_fighters_soviet
		prerequisite = { focus = GEN_Foreign_Design }
		mutually_exclusive = { focus = GEN_Aircraft_japanese }
		x = -1
		y = 1
		relative_position_id = GEN_Foreign_Design

		cost = 10

		available_if_capitulated = yes

		available = {
			SOV = {
				exists = yes
				has_capitulated = no
				has_opinion = { target = ROOT value > 49 }
			}
			OR = {
				has_government = communism
				has_government = neutrality
				SOV = { has_government = ROOT }
			}
			not = {
				has_War_with = SOV
			}
		}

		completion_reward = {
			SOV = {
				add_ai_strategy = {
					type = support
					id = ROOT
					value = 25
				}
			}

			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = early_fighter
				technology = fighter1
				technology = fighter2
			}

			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1
				uses = 1
				technology = strategic_bomber1
				technology = strategic_bomber2
			}

			add_opinion_modifier = { target = SOV modifier = gen_aircraft_soviet }
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	shared_focus = {
		id = GEN_Aircraft_japanese
		icon = GFX_goal_fighters_japan
		prerequisite = { focus = GEN_Foreign_Design }
		mutually_exclusive = { focus = GEN_Aircraft_Soviet }
		x = 1
		y = 1
		relative_position_id = GEN_Foreign_Design

		cost = 10

		available_if_capitulated = yes

		available = {
			JAP = {
				exists = yes
				has_capitulated = no
				has_opinion = { target = ROOT value > 49 }
			}
			OR = {
				has_government = fascism
				has_government = neutrality
				JAP = { has_government = ROOT }
			}
			not = {
				has_War_with = JAP
			}
		}

		completion_reward = {
			JAP = {
				add_ai_strategy = {
					type = support
					id = ROOT
					value = 25
				}
			}

			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = early_fighter
				technology = fighter1
				technology = fighter2
			}

			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = cv_early_fighter
				technology = cv_fighter1
			}

			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = naval_bomber1
				technology = naval_bomber2
			}

			add_opinion_modifier = { target = JAP modifier = gen_aircraft_japanese }
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	shared_focus = {
		id = GEN_Aircraft_Italian
		icon = GFX_goal_fighters_italy
		prerequisite = { focus = GEN_Foreign_Design }
		mutually_exclusive = { focus = GEN_Aircraft_German }
		x = 3
		y = 1
		relative_position_id = GEN_Foreign_Design

		cost = 10

		available_if_capitulated = yes

		available = {
			ITA = {
				exists = yes
				has_capitulated = no
				has_opinion = { target = ROOT value > 49 }
			}
			OR = {
				has_government = fascism
				has_government = neutrality
				ITA = { has_government = ROOT }
			}
			NOT = {
				has_War_with = ITA
			}
		}

		completion_reward = {
			ITA = {
				add_ai_strategy = {
					type = support
					id = ROOT
					value = 25
				}
			}

			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = CAS1
				technology = CAS2
			}

			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1
				uses = 1
				technology = tactical_bomber1
				technology = tactical_bomber2
			}

			add_opinion_modifier = { target = ITA modifier = gen_aircraft_italian }
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	shared_focus = {
		id = GEN_Aircraft_German
		icon = GFX_goal_fighters_germany
		prerequisite = { focus = GEN_Foreign_Design }
		mutually_exclusive = { focus = GEN_Aircraft_Italian}
		x = 5
		y = 1
		relative_position_id = GEN_Foreign_Design

		cost = 10

		available_if_capitulated = yes

		available = {
			if = {
				limit = {
					NOT = {
						OR = {
							original_tag = GER
							original_tag = WGR
							original_tag = DDR
						}
					}
				}
				NOT = { has_government = communism }
				OR = {
						GER = {
							exists = yes
							has_capitulated = no
							has_opinion = { target = ROOT value > 49 }
							not = {
								has_War_with = ROOT
							}
						}
						WGR = {
							exists = yes
							has_capitulated = no
							has_opinion = { target = ROOT value > 49 }
							not = {
								has_War_with = ROOT
							}
						}
				}
			}
			if = {
				limit = {
					OR = {
						original_tag = GER
						original_tag = WGR
						original_tag = DDR
						original_tag = PRE
					}
				}
				always = no
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = CAS1
				technology = CAS2
			}

			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1
				uses = 1
				technology = tactical_bomber1
				technology = tactical_bomber2
			}
			if = {
				limit = {
					GER = {
						has_government = ROOT
						NOT = {
							original_tag = GER
							original_tag = WGR
							original_tag = DDR
							original_tag = PRE
						}
					}
				}
				add_opinion_modifier = { target = GER modifier = gen_aircraft_german }
				GER = {
					add_ai_strategy = {
						type = support
						id = ROOT
						value = 25
					}
				}
			}
			if = {
				limit = {
					WGR = {
						has_government = ROOT
						NOT = {
							original_tag = GER
							original_tag = WGR
							original_tag = DDR
							original_tag = PRE
						}
					}
				}
				add_opinion_modifier = { target = WGR modifier = gen_aircraft_german }
				WGR = {
					add_ai_strategy = {
						type = support
						id = ROOT
						value = 25
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Fighter_Competition
		icon = GFX_goal_zero_blue
		prerequisite = { focus = GEN_Aircraft_England focus = GEN_Aircraft_German focus = GEN_Aircraft_Soviet focus = GEN_Aircraft_Italian focus = GEN_Aircraft_japanese}
		x = 1
		y = 1
		relative_position_id = GEN_Aircraft_american

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			if = {
				limit = {
					has_completed_focus = GEN_Aircraft_England
					NOT = { has_War_with = GER }
				}

				add_equipment_to_stockpile = {
					type = fighter_equipment
					amount = 20
					producer = ENG
				}
				add_equipment_to_stockpile = {
					type = cv_fighter_equipment_0
					amount = 15
					producer = ENG
				}
			}
			if = {
				limit = {
					has_completed_focus = GEN_Aircraft_american
					NOT = { has_War_with = USA }
				}

				add_equipment_to_stockpile = {
					type = fighter_equipment
					amount = 20
					producer = USA
				}
				add_equipment_to_stockpile = {
					type = cv_fighter_equipment_0
					amount = 15
					producer = USA
				}
			}
			if = {
				limit = {
					has_completed_focus = GEN_Aircraft_Soviet
					NOT = { has_War_with = SOV }
				}

				add_equipment_to_stockpile = {
					type = fighter_equipment
					amount = 20
					producer = SOV
				}
			}
			if = {
				limit = {
					has_completed_focus = GEN_Aircraft_German
					NOT = { has_War_with = GER }
				}

				add_equipment_to_stockpile = {
					type = fighter_equipment
					amount = 15
					producer = GER
				}
			}
			if = {
				limit = {
					has_completed_focus = GEN_Aircraft_Italian
					NOT = { has_war_with = ITA }
				}

				add_equipment_to_stockpile = {
					type = fighter_equipment
					amount = 15
					producer = ITA
				}
			}


			if = {
				limit = {
					NOT = { has_completed_focus = GEN_Aircraft_England }
					NOT = { has_completed_focus = GEN_Aircraft_Soviet }
					NOT = { has_completed_focus = GEN_Aircraft_German }
					NOT = { has_completed_focus = GEN_Aircraft_Italian }
				}

				custom_effect_tooltip = GEN_Fighter_Competition_EXPL
			}
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				category = light_fighter
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_Bomber_Competition
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = GEN_Aircraft_German focus = GEN_Aircraft_England focus = GEN_Aircraft_american focus = GEN_Aircraft_Soviet focus = GEN_Aircraft_Italian focus = GEN_Aircraft_japanese}
		x = 3
		y = 1
		relative_position_id = GEN_Aircraft_american

		cost = 10

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			if = {
				limit = {
					has_completed_focus = GEN_Aircraft_England
					NOT = { has_War_with = ENG }
				}

				add_equipment_to_stockpile = {
					type = nav_bomber_equipment
					amount = 15
					producer = ENG
				}
			}
			if = {
				limit = {
					has_completed_focus = GEN_Aircraft_Soviet
					NOT = { has_War_with = SOV }
				}

				add_equipment_to_stockpile = {
					type = large_plane_airframe
					amount = 15
					producer = SOV
				}
			}
			if = {
				limit = {
					has_completed_focus = GEN_Aircraft_German
					NOT = { has_War_with = GER }
				}

				add_equipment_to_stockpile = {
					type = CAS_equipment
					amount = 15
					producer = GER
				}
				add_equipment_to_stockpile = {
					type = tac_bomber_equipment
					amount = 10
					producer = GER
				}
			}
			if = {
				limit = {
					has_completed_focus = GEN_Aircraft_Italian
					NOT = { has_war_with = ITA }
				}

				add_equipment_to_stockpile = {
					type = CAS_equipment
					amount = 15
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = tac_bomber_equipment
					amount = 10
					producer = ITA
				}
			}
			if = {
				limit = {
					NOT = { has_completed_focus = GEN_Aircraft_England }
					NOT = { has_completed_focus = GEN_Aircraft_Soviet }
					NOT = { has_completed_focus = GEN_Aircraft_German }
					NOT = { has_completed_focus = GEN_Aircraft_Italian }
				}

				custom_effect_tooltip = GEN_Fighter_Competition_EXPL
			}
			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1
				uses = 1
				category = cas_bomber
				category = tactical_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	shared_focus = {
		id = GEN_Close_Air_Support
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = GEN_Fighter_Competition }
		x = -2
		y = 1
		relative_position_id = GEN_Bomber_Competition

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1
				uses = 1
				category = cas_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_aircraft_design_cooperation
		icon = GFX_focus_manufacturers_cooperation
		prerequisite = { focus = GEN_Fighter_Competition focus = GEN_Bomber_Competition }
		relative_position_id = GEN_Bomber_Competition
		x = -1
		y = 2

		cost = 5

		available = {
			is_in_faction = yes
		}

		available_if_capitulated = yes

		completion_reward = {
			add_to_tech_sharing_group = HUN_joint_air_development_group
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_German_Rocketry
		icon = GFX_focus_rocketry
		prerequisite = { focus = GEN_Aircraft_German }
		x = 0
		y = 1
		relative_position_id = GEN_Aircraft_German

		cost = 10

		available_if_capitulated = yes

		available = {
			GER	= { has_tech = experimental_rockets }
		}

		completion_reward = {
			add_tech_bonus = {
				name = GER_rocketry_focus
				bonus = 1
				uses = 1
				category = rocketry
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_Shared_Air_Doctrine
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = GEN_Fighter_Competition focus = GEN_Bomber_Competition }
		x = 0
		y = 1
		relative_position_id = GEN_Bomber_Competition

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			air_experience = 25

			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}

			#custom_effect_tooltip = GEN_Generals_Other_tt
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}



	shared_focus = {
		id = GEN_Own_Design
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = GEN_Aviation_Effort }
		mutually_exclusive = { focus = GEN_Foreign_Design }
		x = -3
		y = 1

		relative_position_id = GEN_Aviation_Effort

		cost = 10

		available_if_capitulated = yes
		ai_will_do = {
			factor = 5
		}
		completion_reward = {
			add_ideas = HUN_indigenous_designs
		}
	}


	shared_focus = {
		id = GEN_Own_Fighter
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = GEN_Own_Design }
		x = -1
		y = 2
		relative_position_id = GEN_Own_Design

		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				category = light_fighter
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Own_Bomber
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = GEN_Own_Design }
		x = 0
		y = 1
		relative_position_id = GEN_Own_Design

		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1
				uses = 1
				category = cas_bomber
				category = tactical_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Own_Naval_Bomber
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = GEN_Own_Design }
		x = 1
		y = 2
		relative_position_id = GEN_Own_Design

		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = nav_bomber_bonus
				bonus = 1
				uses = 1
				category = naval_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Own_Air_Doctrine
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = GEN_Own_Fighter focus = GEN_Own_Bomber focus = GEN_Own_Naval_Bomber }
		x = -1
		y = 1
		relative_position_id = GEN_Own_Naval_Bomber

		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			air_experience = 25

			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}

			#custom_effect_tooltip = GEN_Generals_Other_tt
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Naval_Effort
		icon = GFX_focus_generic_shipbuilding
		x = 27
		y = 0
		offset = {
			x = 7
			y = 0
			trigger = {
				tag = ALB
			}
		}
		offset = {
			x = 10
			y = 0
			trigger = {
				has_focus_tree = ukraine_focus
			}
		}		
		offset = {
			x = 36
			y = 0
			trigger = {
				has_focus_tree = r56_india
			}
		}
		offset = {
			x = -6
			y = 0
			trigger = {
				has_focus_tree = israel_focus
			}
		}
		offset = { #remove when naval for WLS done
			x = 9
			y = 0
			trigger = {
				tag = WLS
			}
		}
		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		available = {
			any_state = {
				is_coastal = yes
				is_controlled_by = ROOT
			}
		}


		completion_reward = {
			navy_experience = 25
			if = {
				limit = {
					NOT = {
						AND = {
							is_ai = yes
							is_puppet = yes
						}
					}
				}
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							dockyard > 0
							free_building_slots = {
								building = dockyard
								size > 2
								include_locked = yes
							}
						}
					}
					any_owned_state = {
						is_coastal = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
				set_country_flag = naval_effort_built
			}
			if = {
				limit = {
					NOT = { has_country_flag = naval_effort_built }
					any_owned_state = {
						dockyard > 0
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						dockyard > 0
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
				set_country_flag = naval_effort_built
			}
			if = {
				limit = {
					NOT = { has_country_flag = naval_effort_built }
					NOT = {
						any_owned_state = {
							free_building_slots = {
								building = dockyard
								size > 2
								include_locked = yes
							}
						}
					}
				}
				random_state = {
					limit = {
						controller = { tag = ROOT }
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
			}
		}

			add_equipment_to_stockpile = { type = convoy_1 amount = 10 }

			#custom_effect_tooltip = GEN_Generals_Other_nav_tt
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_Small_Navy
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = GEN_Naval_Effort }
		mutually_exclusive = { focus = GEN_Sea_Dominance }
		x = -1
		y = 1
		relative_position_id = GEN_Naval_Effort
		cost = 7.9

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = GER_trade_interdiction
				cost_reduction = 0.5
				uses = 2
				category = trade_interdiction_tree
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Submarine
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = GEN_Small_Navy }

		x = -1
		y = 1
		relative_position_id = GEN_Small_Navy

		cost = 5

		available_if_capitulated = yes


		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			add_tech_bonus = {
				name = ss_bonus
				bonus = 1
				uses = 1
				category = ss_tech
			}

			#custom_effect_tooltip = GEN_Generals_Other_nav_tt
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_stealth_upgrades
		icon = GFX_goal_navy_schematics
		prerequisite = { focus = GEN_Submarine  }
		relative_position_id = GEN_Submarine
		x = 0
		y = 1

		cost = 8

		allow_branch = {
			has_dlc = "Man the Guns"
		}

		ai_will_do = {
			factor = 5
		}

		bypass = {
			#
		}

		cancel_if_invalid = yes

		completion_reward = {
			add_tech_bonus = {
				name = ss_bonus
				bonus = 1
				uses = 1
				technology = basic_submarine_snorkel
				technology = improved_submarine_snorkel
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_Sea_Dominance
		icon = GFX_goal_sea_navy
		prerequisite = { focus = GEN_Naval_Effort }
		mutually_exclusive = { focus = GEN_Small_Navy }

		x = 1
		y = 1
		relative_position_id = GEN_Naval_Effort

		cost = 7.9

		available_if_capitulated = yes


		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = fleet_in_being_bonus
				cost_reduction = 0.5
				uses = 2
				category = fleet_in_being_tree
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Study_Ships
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = GEN_Sea_Dominance }
		x = 2
		y = 1
		relative_position_id = GEN_Sea_Dominance

		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			navy_experience = 100
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 1
				category = cv_tech
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 1
				category = bb_tech
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 1
				category = bc_tech
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 1
				category = ca_tech
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 1
				category = cl_tech
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 1
				category = dd_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Ships_American
		icon = GFX_focus_chi_mission_to_the_us
		prerequisite = { focus = GEN_Study_Ships }

		x = -1
		y = 1
		relative_position_id = GEN_Study_Ships

		cost = 5

		available_if_capitulated = yes

		available = {
			USA = {
				exists = yes
				has_capitulated = no
				has_opinion = { target = ROOT value > 49 }
			}
			OR = {
				has_government = democratic
				has_government = neutrality
				USA = { has_government = ROOT }
			}
			not = {
				has_War_with = USA
			}
		}

		bypass = {
		}


		completion_reward = {
			USA = {
				add_ai_strategy = {
					type = support
					id = ROOT
					value = 25
				}
			}
			add_ideas = GEN_american_ship_production_methods
			add_opinion_modifier = { target = USA modifier = gen_ships_american }
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_Ships_England
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = GEN_Study_Ships }
		x = 1
		y = 1
		relative_position_id = GEN_Study_Ships

		cost = 5

		available_if_capitulated = yes

		available = {
			ENG = {
				exists = yes
				has_capitulated = no
				has_opinion = { target = ROOT value > 49 }
			}
			OR = {
				has_government = democratic
				has_government = neutrality
				ENG = { has_government = ROOT }
			}
			not = {
				has_War_with = ENG
			}
		}

		completion_reward = {
			ENG = {
				add_ai_strategy = {
					type = support
					id = ROOT
					value = 25
				}
			}
			add_ideas = ENG_escort_effort_focus

			add_opinion_modifier = { target = ENG modifier = gen_ships_british }
		}
	}


	shared_focus = {
		id = GEN_Dockyards
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = GEN_Small_Navy focus = GEN_Sea_Dominance }
		x = -1
		y = 2
		relative_position_id = GEN_Sea_Dominance

		cost = 10

		available_if_capitulated = yes

		available = {
			has_tech = construction2
		}

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			if = {
				limit = {
					NOT = {
						AND = {
							is_ai = yes
							is_puppet = yes
						}
					}
				}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	shared_focus = {
		id = GEN_Carrier
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = GEN_Dockyards }
		x = 1
		y = 1
		relative_position_id = GEN_Dockyards
		cost = 7.9

		available_if_capitulated = yes


		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			add_tech_bonus = {
				name = capital_ships_bonus
				bonus = 1
				uses = 1
				category = cv_tech
			}

			custom_effect_tooltip = GEN_Generals_Other_nav_tt
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Navy_Aircrafts
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = GEN_Carrier }

		x = 0
		y = 2
		relative_position_id = GEN_Carrier

		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_tech_bonus = {
				name = nav_bomber_bonus
				bonus = 0.5
				uses = 2
				category = naval_air
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		ai_will_do = {
			factor = 5
		}
	}


	shared_focus = {
		id = GEN_Battleship
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = GEN_Dockyards }
		x = -1
		y = 1
		relative_position_id = GEN_Dockyards
		cost = 7.9

		available_if_capitulated = yes


		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			add_tech_bonus = {
				name = capital_ships_bonus
				bonus = 1
				uses = 1
				category = bb_tech

			}
			add_tech_bonus = {
				name = capital_ships_bonus
				bonus = 1
				uses = 1
				category = bc_tech
			}

			custom_effect_tooltip = GEN_Generals_Other_nav_tt
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Destroyer
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = GEN_Battleship focus = GEN_Carrier }
		x = -1
		y = 1
		relative_position_id = GEN_Battleship
		cost = 3.6

		available_if_capitulated = yes


		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			add_tech_bonus = {
				name = dd_bonus
				bonus = 1
				uses = 1
				category = dd_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	shared_focus = {
		id = GEN_Cruisers
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = GEN_Battleship focus = GEN_Carrier }
		x = 1
		y = 1
		relative_position_id = GEN_Battleship
		cost = 5

		available_if_capitulated = yes


		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			add_tech_bonus = {
				name = cr_bonus
				bonus = 1
				uses = 1
				category = ca_tech

			}
			add_tech_bonus = {
				name = cr_bonus
				bonus = 1
				uses = 1
				category = cl_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_Naval_Doctrine
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = GEN_Cruisers focus = GEN_Destroyer focus = GEN_Battleship }
		x = 0
		y = 2
		relative_position_id = GEN_Battleship

		cost = 5

		available_if_capitulated = yes


		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = fleet_in_being_bonus
				cost_reduction = 0.5
				uses = 1
				category = fleet_in_being_tree
			}
			custom_effect_tooltip = GEN_Generals_Other_nav_tt
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = GEN_State_Matter
		icon = GFX_focus_generic_self_management
		x = 49
		y = 0
		cost = 5

		available_if_capitulated = yes
		offset = {
			x = -14
			y = 0
			trigger = {
				has_focus_tree = israel_focus
			}
		}
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				AND = {
					original_tag = PAR
					date < 1936.4.4
				}
			}
			modifier = {
				factor = 0
				AND = {
					original_tag = PAR
					is_historical_focus_on = yes
					date < 1940.1.1 #Higinio Mornigo rise to power
				}
			}
		}

		completion_reward = {
			add_political_power = 75
			hidden_effect = {
				set_country_flag = R56_i_have_generic_politics
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}


	shared_focus = {
		id = GEN_Collectivist_Ethos
		icon = GFX_goal_generic_national_unity #icon = GFX_goal_tripartite_pact
		prerequisite = { focus = GEN_State_Matter }
		mutually_exclusive = { focus = GEN_Liberty_Ethos}

		available = {
		}

		x = -2
		y = 1
		relative_position_id = GEN_State_Matter

		cost = 5

		available_if_capitulated = yes


		ai_will_do = {
			factor = 5
			modifier = {
				has_global_flag = rt56_old_school
				add = 0.1
			}
			modifier = {
				factor = 0
				AND = {
					is_historical_focus_on = yes
					is_puppet = yes
					NOT = {
						OVERLORD = {
							OR = {
								has_government = fascism
								has_government = communism
							}
						}
					}
				}
			}
			modifier = {
				factor = 11
				AND = {
					is_historical_focus_on = yes
					original_tag = MON
				}
			}
			modifier = {
				factor = 11
				AND = {
					is_historical_focus_on = yes
					original_tag = TAN
				}
			}
			modifier = {
				factor = 11
				AND = {
					is_historical_focus_on = yes
					original_tag = PAR
				}
			}
			modifier = {
				factor = 0
				AND = {
					is_historical_focus_on = yes
					NOT = {
						OR = {
							has_government = communism
							has_government = fascism
						}
					}
				}
			}
			modifier = {
				factor = 0
				has_civil_war = yes
				OR = {
					has_government = democratic
					has_government = neutrality
				}
			}
			modifier = {
				factor = 0.01
				AND = {
					is_historical_focus_on = no
					is_puppet = yes
					NOT = {
						OVERLORD = {
							OR = {
								has_government = fascism
								has_government = communism
							}
						}
					}
				}
			}
			modifier = {
				factor = 0.02
				AND = {
					is_historical_focus_on = no
					is_puppet = no
					OR = {
						has_government = fascism
						has_government = communism
					}
				}
			}
			modifier = {
				factor = 5
				AND = {
					is_historical_focus_on = no
					is_puppet = no
					OR = {
						AND = {
							is_in_faction_with = SOV
							SOV = {
								has_government = communism
							}
						}
						tag = DDR
					}
				}
			}

		}

		completion_reward = {
		# As AI uses ideological politicians this is useless
		#	add_popularity = {
		#		ideology = communism
		#		popularity = 0.03
		#	}
		#	add_popularity = {
		#		ideology = fascism
		#		popularity = 0.03
		#	}
			add_political_power = 25
			add_timed_idea = { idea = collectivist_ethos_focus days = 1395 }
		}
	}


	shared_focus = {
		id = nationalism_focus
		icon = GFX_goal_support_fascism #icon = GFX_goal_tripartite_pact
		prerequisite = { focus = GEN_Collectivist_Ethos }
		mutually_exclusive = { focus = internationalism_focus }


		available = {
			OR = {
				fascism > 0.15
				has_government = neutrality
			}
		}

		x = -1
		y = 1
		relative_position_id = GEN_Collectivist_Ethos

		cost = 5

		available_if_capitulated = yes


		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				is_historical_focus_on = no
			}
			modifier = {
				factor = 5
				AND = {
					is_puppet = yes
					OVERLORD = {
						has_government = fascism
					}
				}
			}
			modifier = {
				factor = 0
				AND = {
					is_historical_focus_on = yes
					NOT = { has_government = fascism }
				}
			}
			modifier = {
				factor = 11
				AND = {
					is_historical_focus_on = yes
					original_tag = PAR
				}
			}
		}

		completion_reward = {
			if = {
				limit = {
					original_tag = PAR
					is_historical_focus_on = yes
				}
				ROOT = { #bad guy but not a 'bad guy'
					add_ai_strategy = {
						type = befriend
						id = GER
						value = -999
					}
					add_ai_strategy = {
						type = befriend
						id = ITA
						value = -999
					}
					add_ai_strategy = {
						type = befriend
						id = JAP
						value = -999
					}
					add_ai_strategy = {
						type = befriend
						id = USA
						value = 125
					}
					add_ai_strategy = {
						type = befriend
						id = ENG
						value = 10
					}
				}
			}
		# As AI uses ideological politicians this is useless
		#	add_popularity = {
		#		ideology = fascism
		#		popularity = 0.04
		#	}
			add_timed_idea = { idea = nationalism days = 1395 }
		}
	}


	shared_focus = {
		id = militarism
		icon = GFX_goal_extensive_conscription_fascism
		prerequisite = { focus = nationalism_focus }
		x = 0
		y = 2
		relative_position_id = nationalism_focus

		cost = 10

		available_if_capitulated = yes

		available = {
			has_government = fascism
		}

		completion_reward = {
			army_experience = 25
			add_war_support = 0.05

			if = {
				limit = { has_idea = neutrality_idea }
				remove_ideas = neutrality_idea
			}
			add_ideas = GEN_militarism_I
		}
		search_filters = {  FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT }
	}


	shared_focus = {
		id = GEN_Organise_Youth
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = nationalism_focus focus = internationalism_focus }
		x = 1
		y = 1
		relative_position_id = nationalism_focus

		cost = 5

		available_if_capitulated = yes

		available = {
			OR = {
				has_government = fascism
				has_government = communism
			}
		}

		completion_reward = {
			add_political_power = 25

			if = {
				limit = {
					has_completed_focus = nationalism_focus
				}
				ROOT = {
					add_ideas = GEN_Organise_Youth_Fas_I
				}
			}

			if = {
				limit = {
					has_completed_focus = internationalism_focus
				}
				ROOT = {
					add_ideas = GEN_Organise_Youth_Com_I
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
	}


	shared_focus = {
		id = internationalism_focus
		icon = GFX_goal_support_communism #icon = GFX_goal_tripartite_pact
		prerequisite = { focus = GEN_Collectivist_Ethos }
		mutually_exclusive = { focus = nationalism_focus }


		available = {
			NOT  = {
				original_tag = SOV
			}
			if = {
				limit = { original_tag = CHI }
				has_government = communism
			}
			else = {
				OR = {
					communism > 0.15
					has_government = neutrality
				}
			}
		}

		x = 1
		y = 1
		relative_position_id = GEN_Collectivist_Ethos

		cost = 5

		available_if_capitulated = yes


		ai_will_do = {
			factor = 5
			modifier = {
				factor = 5
				OR = {
					AND = {
						is_puppet = yes
						OVERLORD = {
							has_government = communism
						}
					}
					AND = {
						is_in_faction_with = SOV
						SOV = {
							has_government = communism
						}
					}
					tag = DDR
				}
			}
			modifier = {
				factor = 0.2
				AND = {
					is_in_faction = yes
					faction_leader = {
						has_government = fascism
					}
				}
			}
			modifier = {
				factor = 0.2
				any_enemy_country = {
					is_faction_leader = yes
					has_government = communism
				}
			}						
			modifier = {
				factor = 11
				is_historical_focus_on = yes
				OR = {
					original_tag = MON
					original_tag = TAN
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				NOT = { has_government = communism }
			}
			modifier = {
				factor = 2
				is_historical_focus_on = no
			}
		}

		completion_reward = {
		# As IA uses ideological politicians this is useless
		#	add_popularity = {
		#		ideology = communism
		#		popularity = 0.05
		#	}
			add_timed_idea = { idea = internationalism days = 1395 }
			if = {
				limit = {
					has_idea = rt56_far_left_suppression
				}
				remove_ideas = rt56_far_left_suppression
			}
		}
	}


	shared_focus = {
		id = GEN_Com_Generals
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = internationalism_focus }
		x = 1
		y = 1
		relative_position_id = internationalism_focus

		cost = 10

		available_if_capitulated = yes

		available = {
			has_government = communism
		}

		completion_reward = {
			custom_effect_tooltip = JAP_approach_the_young_officers_tt

			add_ideas = political_commissars_focus

			hidden_effect = {
				create_corps_commander = {
					traits = { JAP_communist_sympathizer infantry_officer }
					skill = 3
					attack_skill = 2
					defense_skill = 4
					planning_skill = 3
					logistics_skill = 1
				}
				create_corps_commander = {
					traits = { JAP_communist_sympathizer infantry_officer }
					skill = 2
					attack_skill = 2
					defense_skill = 2
					planning_skill = 1
					logistics_skill = 2
				}
				create_corps_commander = {
					traits = { JAP_communist_sympathizer trait_reckless cavalry_officer }
					skill = 2
					attack_skill = 3
					defense_skill = 1
					planning_skill = 2
					logistics_skill = 1
				}
			}
		}
	}


	shared_focus = {
		id = GEN_Collectivist_Propaganda
		icon = GFX_goal_communist_factory
		prerequisite = { focus = internationalism_focus }
		x = 0
		y = 2
		relative_position_id = internationalism_focus

		cost = 10

		available_if_capitulated = yes

		available = {
			has_government = communism
		}

		completion_reward = {
			add_political_power = 25
			add_ideas = GEN_Collectivist_Propaganda_I
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
	}


	shared_focus = {
		id = GEN_Conquer
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = militarism focus = GEN_Collectivist_Propaganda }
		mutually_exclusive = { focus = GEN_Intervene focus = GEN_Isolated }
		x = -2
		y = 2
		relative_position_id = GEN_Organise_Youth

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		available = {
			OR = { #More of a double check on the AI
				has_government = fascism
				has_government = communism
			}
		}

		completion_reward = {
			add_named_threat = { threat = 0.1 name = GEN_seeking_expansive_t }
			add_war_support = 0.05

			add_ideas = GEN_Conquer_I

			ROOT = {
				every_neighbor_country = {
					limit = {
						exists = yes
						has_war = no
						has_capitulated = no
						is_major = no
						NOT = {
							is_in_faction_with = ROOT
						}
					}
					news_event = {
						hours = 8
						id = r56.news_event.10
					}
				}
			}

			#AI Stuff
			if = {
				limit = {
					is_historical_focus_on = no
					ROOT = {
						has_government = fascism
						has_war = no
					}
					GER = {
						has_government = fascism
						has_war = yes
						has_capitulated = no
					}
				}
				ROOT = {
					add_ai_strategy = {
						type = alliance
						id = GER
						value = 30
					}
					add_ai_strategy = {
						type = befriend
						id = GER
						value = 50
					}
				}
			}
			if = {
				limit = {
					is_historical_focus_on = no
					ROOT = {
						has_government = communism
						has_war = no
					}
					SOV = {
						has_government = communism
						has_war = yes
						has_capitulated = no
					}
				}
				ROOT = {
					add_ai_strategy = {
						type = alliance
						id = SOV
						value = 25
					}
					add_ai_strategy = {
						type = befriend
						id = SOV
						value = 50
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT }
	}


	shared_focus = {
		id = GEN_Intervene
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = militarism focus = GEN_Collectivist_Propaganda }
		mutually_exclusive = { focus = GEN_Conquer focus = GEN_Isolated }
		x = 0
		y = 2
		relative_position_id = GEN_Organise_Youth

		cost = 5

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			add_war_support = 0.05
			add_ideas = GEN_Intervene_I
			if = {
				limit = {
					is_historical_focus_on = no
				}
				if = {
					limit = {
						ROOT = {
							has_government = fascism
							has_war = no
						}
						GER = {
							has_government = fascism
							has_war = yes
							has_capitulated = no
						}
					}
					ROOT = {
						add_ai_strategy = {
							type = support
							id = GER
							value = 100
						}
						add_ai_strategy = {
							type = send_volunteers_desire
							id = GER
							value = 100
						}
					}
				}
				if = {
					limit = {
						ROOT = {
							has_government = fascism
							has_war = no
						}
						ITA = {
							has_government = fascism
							has_war = yes
							has_capitulated = no
						}
					}
					ROOT = {
						add_ai_strategy = {
							type = support
							id = ITA
							value = 75
						}
						add_ai_strategy = {
							type = send_volunteers_desire
							id = ITA
							value = 75
						}
					}
				}
				if = {
					limit = {
						ROOT = {
							has_government = communism
							has_war = no
						}
						SOV = {
							has_government = communism
							has_war = yes
							has_capitulated = no
						}
					}
					ROOT = {
						add_ai_strategy = {
							type = support
							id = SOV
							value = 100
						}
						add_ai_strategy = {
							type = send_volunteers_desire
							id = SOV
							value = 100
						}
					}
				}
				if = {
					limit = {
						ROOT = {
							has_government = communism
							has_war = no
						}
						PRC = {
							has_government = communism
							has_war = yes
							has_capitulated = no
						}
					}
					ROOT = {
						add_ai_strategy = {
							type = support
							id = PRC
							value = 75
						}
						add_ai_strategy = {
							type = send_volunteers_desire
							id = PRC
							value = 75
						}
					}
				}
			}

		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_WAR_SUPPORT }
	}


	shared_focus = {
		id = GEN_Isolated
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = militarism focus = GEN_Collectivist_Propaganda }
		mutually_exclusive = { focus = GEN_Conquer focus = GEN_Intervene }
		x = 2
		y = 2
		relative_position_id = GEN_Organise_Youth

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}

		available = {
			NOT = {
				is_subject = yes
				has_war = yes
			}
		}

		completion_reward = {
			add_stability = 0.05

			if = {
				limit = { NOT = { has_idea = neutrality_idea } }
				add_ideas = neutrality_idea
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}


	shared_focus = {
		id = GEN_Forced_Conscription
		icon = GFX_goal_generic_army
		prerequisite = { focus = GEN_Conquer focus = GEN_Intervene }
		x = 1
		y = 1
		relative_position_id = GEN_Conquer

		cost = 5

		available_if_capitulated = yes

		available = {
			OR = {
				has_war = yes
				threat > 0.25
			}
			NOT = {
				OR = {
					has_idea = service_by_requirement
					has_idea = scraping_the_barrel
					has_idea = all_adults_serve
				}
			}
		}

		completion_reward = {
			add_ideas = service_by_requirement
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
	}

	shared_focus = {
		id = GEN_Fanaticism
		icon = GFX_goal_generic_army_elite
		prerequisite = { focus = GEN_Isolated focus = GEN_Intervene focus = GEN_Conquer }
		x = 0
		y = 2
		relative_position_id = GEN_Intervene

		cost = 10

		available_if_capitulated = yes

		available = {
			OR = {
				has_government = fascism
				has_government = communism
			}
		}

		completion_reward = {
			add_ideas = ideological_fanaticism_focus
			hidden_effect = {
				set_rule = { can_use_kamikaze_pilots = yes }
			}
			custom_effect_tooltip = kamikaze_focus_tooltip
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
	}

	shared_focus = {
		id = GEN_Liberty_Ethos
		icon = GFX_goal_generic_liberty
		prerequisite = { focus = GEN_State_Matter }
		mutually_exclusive = { focus = GEN_Collectivist_Ethos }
		x = 2
		y = 1
		relative_position_id = GEN_State_Matter

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				is_puppet = yes
				OVERLORD = {
					OR = {
						has_government = fascism
						has_government = communism
					}
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				NOT = {
					OR = {
						has_government = democratic
						has_government = neutrality
					}
				}
			}
			modifier = {
				factor = 0.01
				AND = {
					is_historical_focus_on = no
					is_puppet = yes
					OVERLORD = {
						OR = {
							has_government = fascism
							has_government = communism
						}
					}
				}
			}
			modifier = {
				factor = 0.15
				AND = {
					is_historical_focus_on = no
					is_puppet = no
					OR = {
						has_government = fascism
						has_government = communism
					}
				}
			}
			modifier = {
				factor = 0
				has_civil_war = yes
				OR = {
					has_government = fascism
					has_government = communism
				}
			}
			modifier = {
				factor = 10
				is_historical_focus_on = no
				is_puppet = no
				tag = WGR
			}
		}

		completion_reward = {
			add_political_power = 75
			add_stability = 0.05
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}


	shared_focus = {
		id = GEN_Strenghten_Monarchy
		icon = GFX_focus_generic_home_defense
		prerequisite = { focus = GEN_Liberty_Ethos }
		mutually_exclusive = { focus = GEN_Strenghten_Democracy}
		x = -1
		y = 1
		relative_position_id = GEN_Liberty_Ethos

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				is_puppet = yes
				NOT = {
					OVERLORD = {
						has_government = neutrality
					}
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				NOT = {
					has_government = neutrality
				}
			}
			modifier = {
				factor = 0.1
				is_historical_focus_on = no
				is_puppet = no
				NOT = {
					has_government = neutrality
				}
			}
			modifier = {
				factor = 6
				has_government = neutrality
			}
		}

		completion_reward = {
			add_stability = 0.05
			add_popularity = {
				ideology = neutrality
				popularity = 0.1
			}
			add_timed_idea = { idea = GEN_Strenghten_Monarchy_I days = 1395 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}


	shared_focus = {
		id = GEN_Strenghten_Democracy
		icon = GFX_goal_support_democracy
		prerequisite = { focus = GEN_Liberty_Ethos }
		mutually_exclusive = { focus = GEN_Strenghten_Monarchy}
		x = 1
		y = 1
		relative_position_id = GEN_Liberty_Ethos

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				is_puppet = yes
				NOT = {
					OVERLORD = {
						has_government = democratic
					}
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				NOT = {
					OR = {
						has_government = democratic
						tag = PRU
					}
				}
			}
			modifier = {
				factor = 0.05
				is_historical_focus_on = no
				is_puppet = yes
				NOT = {
					OVERLORD = {
						has_government = democratic
					}
				}
			}
			modifier = {
				factor = 0.2
				is_historical_focus_on = no
				is_puppet = no
				NOT = {
					has_government = democratic
				}
			}
			modifier = {
				factor = 2
				has_government = democratic
			}
			modifier = {
				factor = 5
				is_historical_focus_on = no
				is_puppet = no
				tag = WGR
			}
		}

		completion_reward = {
			add_stability = 0.05
			add_popularity = {
				ideology = democratic
				popularity = 0.1
			}
			add_timed_idea = { idea = GEN_Strenghten_Democracy_I days = 1395 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}


	shared_focus = {
		id = GEN_Defence_Act
		icon = GFX_goal_arrests
		prerequisite = { focus = GEN_Strenghten_Monarchy focus = GEN_Strenghten_Democracy }
		x = 1
		y = 1
		relative_position_id = GEN_Strenghten_Monarchy

		cost = 5

		available_if_capitulated = yes

		available = {
			OR = {
				has_government = neutrality
				has_government = democratic
			}
		}

		completion_reward = {
			add_popularity = { ideology = fascism popularity = -0.05 }
			add_popularity = { ideology = communism popularity = -0.05 }

			add_ideas = GEN_Defence_Act_I
		}
		search_filters = {  FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
	}


	shared_focus = {
		id = neutrality_focus
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = { focus = GEN_Defence_Act }
		mutually_exclusive = { focus = interventionism_focus }
		x = 1
		y = 1
		relative_position_id = GEN_Defence_Act

		cost = 5

		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				tag = AUS
			}
		}

		completion_reward = {
			add_political_power = 50
			add_stability = 0.05

			if = {
				limit = { NOT = { has_idea = neutrality_idea } }
				add_ideas = neutrality_idea
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}


	shared_focus = {
		id = interventionism_focus
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = GEN_Defence_Act }
		mutually_exclusive = { focus = neutrality_focus }
		x = -1
		y = 1
		relative_position_id = GEN_Defence_Act

		cost = 5

		available_if_capitulated = yes


		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				has_idea = neutrality_idea
			}
		}

		completion_reward = {
			add_political_power = 75
			add_war_support = 0.05

			if = {
				limit = { has_idea = neutrality_idea }
				remove_ideas = neutrality_idea
			}
			set_rule = { can_send_volunteers = yes }
			#AI Stuff
			if = {
				limit = {
					is_historical_focus_on = yes
					has_country_flag = monroe_doctrine
					ROOT = {
						NOT = {
							has_government = fascism
						}
						has_war = no
					}
					USA = {
						has_government = democratic
						has_war = yes
						has_capitulated = no
					}
				}
				ROOT = {
					add_ai_strategy = {
						type = support
						id = USA
						value = 50
					}
					add_ai_strategy = {
						type = send_volunteers_desire
						id = USA
						value = 1
					}
				}
			}
			if = {
				limit = {
					is_historical_focus_on = no
					has_country_flag = monroe_doctrine
					ROOT = {
						NOT = {
							has_government = fascism
						}
						has_war = no
					}
					USA = {
						has_government = democratic
						has_war = yes
						has_capitulated = no
					}
				}
				ROOT = {
					add_ai_strategy = {
						type = support
						id = USA
						value = 125
					}
					add_ai_strategy = {
						type = send_volunteers_desire
						id = USA
						value = 100
					}
				}
			}
			if = {
				limit = {
					is_historical_focus_on = no
					NOT = {
						has_country_flag = monroe_doctrine
					}
					ROOT = {
						has_government = democratic
						has_war = no
					}
					ENG = {
						has_government = democratic
						has_war = yes
						has_capitulated = no
					}
				}
				ROOT = {
					add_ai_strategy = {
						type = support
						id = ENG
						value = 25
					}
					add_ai_strategy = {
						type = send_volunteers_desire
						id = ENG
						value = 25
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
	}


	shared_focus = {
		id = GEN_Brigades
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = interventionism_focus }
		x = 0
		y = 2
		relative_position_id = interventionism_focus

		cost = 5

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = GEN_Brigades_I
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL }
	}


	shared_focus = {
		id = GEN_Military_Build
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = neutrality_focus focus = interventionism_focus }
		mutually_exclusive = { focus = GEN_Anti_Invasion }
		x = -1
		y = 1
		relative_position_id = neutrality_focus

		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = GEN_Military_Build_I
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
	}


	shared_focus = {
		id = GEN_Anti_Invasion
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = neutrality_focus }
		mutually_exclusive = { focus = GEN_Military_Build }
		x = 1
		y = 1
		relative_position_id = neutrality_focus

		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = GEN_Anti_Invasion_I
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER }
	}


	shared_focus = {
		id = why_we_fight
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = GEN_Anti_Invasion focus = GEN_Military_Build focus = GEN_Brigades }
		available = {
			OR = {
				threat > 0.50
				has_defensive_war = yes
			}
		}

		continue_if_invalid = yes

		x = 1
		y = 2
		relative_position_id = GEN_Military_Build
		cost = 10

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = GEN_why_we_fight_I
			custom_effect_tooltip = why_we_fight_effect
			hidden_effect = {
				if = {
					limit = { NOT = { has_idea = neutrality_idea } }
					set_rule = { can_create_factions = yes }
				}
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT }
	}

	#axis puppets
	shared_focus = {
		id = PUP_axis_minors
		icon= GFX_goal_GER_great_black_menace
		x = 50
		y = 0
		offset = {
			x = -24
			y = 7
			trigger = {
				tag = ROM
			}
		}
		offset = {
			x = -18
			y = 11
			trigger = {
				tag = HUN
			}
		}
		offset = {
			x = -28
			y = 9
			trigger = {
				tag = BUL
			}
		}
		offset = {
			x = -8
			y = 4
			trigger = {
				tag = CZE
			}
		}
		offset = {
			x = -40
			y = 9
			trigger = {
				tag = AUS
			}
		}
		cost = 5

		available={
			is_subject_of = GER
			is_ai = no
		}

		available_if_capitulated = yes


		completion_reward = {
			add_stability = 0.025
			add_war_support = 0.05
			add_political_power = 50
		}
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
	}

	shared_focus = {
		id = PUP_oil_coop
		icon= GFX_goal_refining
		prerequisite = { focus = PUP_axis_minors}
		x = 0
		y = 1
		relative_position_id = PUP_axis_minors
		cost = 10

		available={
			is_subject_of = GER
		}

		available_if_capitulated = yes


		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}			
			
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.5
				uses = 1
				category = refining_tech
			}
			add_tech_bonus = {
				name = excavation_tech_bonus_name
				bonus = 0.5
				uses = 1
				category = excavation_tech
			}
			GER = {
				add_tech_bonus = {
					name = industrial_bonus
					bonus = 0.25
					uses = 1
					category = refining_tech
				}
				add_tech_bonus = {
					name = excavation_tech_bonus_name
					bonus = 0.25
					uses = 1
					category = excavation_tech
				}
				random_owned_controlled_state = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = synthetic_refinery
						level = 1
						instant_build = yes
					}
				}
			}
		}
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
	}
	shared_focus = {
		id = PUP_mining_extraction
		icon= GFX_goal_italy_establish_the_sme
		prerequisite = { focus = PUP_oil_coop}
		x = 0
		y = 1
		relative_position_id = PUP_oil_coop
		cost = 5

		available={
			is_subject_of = GER
		}

		available_if_capitulated = yes


		completion_reward = {
			add_ideas = PUP_trade_idea1
		}
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
	}

	shared_focus = {
		id = PUP_spain_volunteers
		icon= GFX_goal_SPR_una_grande_y_libre
		prerequisite = { focus = PUP_axis_minors}
		x = -2
		y = 1
		relative_position_id = PUP_axis_minors
		cost = 5

		available={
			is_subject_of = GER
		}

		available_if_capitulated = yes


		completion_reward = {
			add_ideas = PUP_spain_volunteers1
			SPA = {
				add_equipment_to_stockpile = {
					type = infantry_equipment_0
					amount = 1500
					variant_name = "Interwar Stockpile Arms"
				}
			}
		}
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
	}

	shared_focus = {
		id = PUP_mobilizing_for_war
		icon= GFX_focus_generic_army_modernizations
		prerequisite = { focus = PUP_spain_volunteers}
		x = 0
		y = 1
		relative_position_id = PUP_spain_volunteers
		cost = 5

		available={
			is_subject_of = GER
		}

		available_if_capitulated = yes


		completion_reward = {
			add_ideas = PUP_mobilizing_for_war1
		}
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
	}

	shared_focus = {
		id = PUP_Industrial_coop
		icon= GFX_goal_generic_road
		prerequisite = { focus = PUP_axis_minors}
		x = 2
		y = 1
		relative_position_id = PUP_axis_minors
		cost = 10

		available={
			is_subject_of = GER
		}

		available_if_capitulated = yes


		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			GER = {
				random_owned_controlled_state = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
	}

	shared_focus = {
		id = PUP_german_industrial_coop
		icon = GFX_goal_italy_autarky
		prerequisite = { focus = PUP_Industrial_coop}
		x = 0
		y = 1
		relative_position_id = PUP_Industrial_coop
		cost = 10

		available={
			is_subject_of = GER
		}

		available_if_capitulated = yes


		completion_reward = {
		add_ideas = PUP_german_industrial_cooperation1
		}
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
	}

	shared_focus = {
		id = PUP_invite_german_architects
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = {
			 focus = PUP_german_industrial_coop
			 focus = PUP_mining_extraction
			 focus = PUP_mobilizing_for_war
			}
		x = 0
		y = 1
		relative_position_id = PUP_mining_extraction
		cost = 10

		available={
			is_subject_of = GER
		}

		available_if_capitulated = yes


		completion_reward = {
				random_owned_controlled_state = {
					limit = {
					is_capital = yes
					}
				set_state_category = megalopolis
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			add_political_power = -100
			
			GER = {
				add_political_power = 100
			}
		}
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
	}







	####################
	####Yugo Puppets####
    ####################

	shared_focus = {
		id = YUG_puppets
		icon= GFX_focus_YUG_limited_self_government
		x = -25
		y = 0
		offset = {
			x = 50
			y = 0
			trigger = {
				tag = SLV
			}
		}
		offset = {
			x = 50
			y = 0
			trigger = {
				tag = CRO
			}
		}
		offset = {
			x = 50
			y = 0
			trigger = {
				tag = HRZ
			}
		}
		offset = {
			x = 50
			y = 0
			trigger = {
				tag = D08
			}
		}
		offset = {
			x = 50
			y = 0
			trigger = {
				tag = MNT
			}
		}
		offset = {
			x = 50
			y = 0
			trigger = {
				tag = KOS
			}
		}
		offset = {
			x = 50
			y = 0
			trigger = {
				tag = D09
			}
		}
		offset = {
			x = 50
			y = 0
			trigger = {
				tag = TRA
			}
		}
		
		cost = 5

		available={
			
		}

		available_if_capitulated = yes


		completion_reward = {
			add_stability = 0.025
			add_war_support = 0.05
			add_political_power = 50
		}
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}
	}




	shared_focus = {
		id = CRO_home_guard
		icon = GFX_goal_small_infantry
		x = 0
		y = 1
		prerequisite = { focus = YUG_puppets }
		relative_position_id = YUG_puppets
		cost = 5

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1.2
				is_in_faction_with = GER
			}
		}

		completion_reward = {
			army_experience = 30
			division_template = {
				name = "Pjeadijska divizija"		# Infantry Division
			
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
				}
				support = {
					engineer = { x = 0 y = 0 }
				}
			}
			#load_oob = CRO_home_guard_oob			
			custom_effect_tooltip = axis_minors_croatia_home_guard_tooltip
			hidden_effect = {
				capital_scope = {
					create_unit = { division = "name = \"1. Pjeadijska divizija\" division_template = \"Pjeadijska divizija\" start_experience_factor = 0.3 start_equipment_factor = 0.8"
						owner = ROOT
					}
					create_unit = { division = "name = \"2. Pjeadijska divizija\" division_template = \"Pjeadijska divizija\" start_experience_factor = 0.3 start_equipment_factor = 0.8"
						owner = ROOT
					}
					create_unit = { division = "name = \"3. Pjeadijska divizija\" division_template = \"Pjeadijska divizija\" start_experience_factor = 0.3 start_equipment_factor = 0.8"
						owner = ROOT
					}										
				}
				
				if = {
					limit = {
						NOT = {
							has_tech = basic_machine_tools
						}
						date > 1937.06.01
					}
					set_technology = { basic_machine_tools = 1 }
					set_technology = { improved_machine_tools = 1 }
					set_technology = { dispersed_industry = 1 }
					set_technology = { construction1 = 1 }
					set_technology = { support_weapons = 1 }
					set_technology = { electronic_mechanical_engineering = 1 }
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER }
	}

	shared_focus = {
		id = CRO_mountain_brigades
		icon = GFX_goal_generic_special_forces
		
		x = -1
		y = 1
		prerequisite = { focus = CRO_home_guard }
		relative_position_id = CRO_home_guard

		cost = 10

		ai_will_do = {
			factor = 1
		}

		completion_reward = {
			add_tech_bonus = {
				name = CRO_mountain_brigades
				bonus = 3
				uses = 1
				category = mountaineers_tech
			}
			add_tech_bonus = {
                name = special_forces_bonus
                bonus = 1.0
                uses = 1
                category = r56_special_forces_training_tech 
            }			
            add_tech_bonus = {
                name = infantry_artillery_bonus
                bonus = 1
                uses = 1
                category = winter_clothing_tech
            }				
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = CRO_army_maneuvers
		icon = GFX_goal_CRO_coa_army
		
		x = 0
		y = 1
		prerequisite = { focus = CRO_mountain_brigades }
		relative_position_id = CRO_mountain_brigades

		cost = 10

		ai_will_do = {
			factor = 1
		}

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = CRO_army_maneuvers
				cost_reduction = 0.8
				uses = 2
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = CRO_supremacy_of_offense
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = CRO_army_maneuvers }
		relative_position_id = CRO_army_maneuvers
		x = 0
		y = 1
		

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				has_tech = mobile_warfare
				has_tech = superior_firepower
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = CRO_supremacy_of_offense
				bonus = 1
				uses = 2
				category = cat_mobile_warfare
				category = cat_superior_firepower
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = CRO_supremacy_of_defense
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = CRO_domestic_artillery_production }
		relative_position_id = CRO_domestic_artillery_production
		x = 0
		y = 1
		

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				has_tech = grand_battle_plan
				has_tech = mass_assault
			}
		}


		completion_reward = {
			add_tech_bonus = {
				name = CRO_supremacy_of_defense
				bonus = 1
				uses = 2
				category = cat_grand_battle_plan
				category = cat_mass_assault
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = CRO_artillery_regiments
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = CRO_supremacy_of_offense }
		x = 0
		y = 1
		relative_position_id = CRO_supremacy_of_offense

		cost = 10

		ai_will_do = {
			factor = 1
		}

		completion_reward = {
			add_ideas = YUG_artillery_regiments
		}
	}

	shared_focus = {
		id = CRO_small_arms
		icon = GFX_goal_generic_small_arms
		prerequisite = { focus = CRO_home_guard }
		x = 1
		y = 1
		relative_position_id = CRO_home_guard

		cost = 10

		ai_will_do = {
			factor = 1
		}

		completion_reward = {
			add_tech_bonus = {
				name = CRO_small_arms
				bonus = 1
				uses = 1
				category = infantry_weapons
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = CRO_domestic_artillery_production
		icon = GFX_goal_proving_grounds
		prerequisite = { focus = CRO_small_arms }
		x = 0
		y = 1
		relative_position_id = CRO_small_arms

		cost = 10

		ai_will_do = {
			factor = 1
		}

		completion_reward = {
			add_tech_bonus = {
				name = CRO_domestic_artillery_production
				bonus = 1
				uses = 1
				category = artillery
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = CRO_anti_tank_defenses
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = CRO_modern_tanks }
		x = 0
		y = 1
		relative_position_id = CRO_modern_tanks

		cost = 10

		ai_will_do = {
			factor = 1
		}

		completion_reward = {
			add_tech_bonus = {
				name = CRO_anti_tank_defenses
				bonus = 3
				uses = 1
				category = cat_anti_tank
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	shared_focus = {
		id = CRO_motorization_effort
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = CRO_tank_conversions }
		bypass = { has_tech = motorised_infantry }
		relative_position_id = CRO_tank_conversions
		x = 0
		y = 1
		cost = 10

		ai_will_do = {
			factor = 1
		}

		completion_reward = {
			add_tech_bonus = {
				name = motorized_bonus
				bonus = 3
				technology = motorised_infantry
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	shared_focus = {
		id = CRO_armored_cavalry
		icon = GFX_goal_mechanized_offensive
		prerequisite = { focus = CRO_motorization_effort }
		relative_position_id = CRO_motorization_effort
		x = -1
		y = 1

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1.5
				is_in_faction_with = GER
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = mechanization_tech_bonus_name
				bonus = 1
				uses = 1
				category = cat_mechanized_equipment
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	shared_focus = {
		id = CRO_structured_logistics
		icon = GFX_goal_generic_modernizing_the_cavalry2
		prerequisite = { focus = CRO_motorization_effort }
		relative_position_id = CRO_motorization_effort
		x = 1
		y = 1

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1.5
				is_in_faction_with = GER
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = logistics_company_tech_bonus_name
				bonus = 1
				uses = 2
				category = logistics_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	shared_focus = {
		id = CRO_recovery_teams
		icon = GFX_goal_generic_production
		prerequisite = { focus = CRO_structured_logistics }
		prerequisite = { focus = CRO_armored_cavalry }
		relative_position_id = CRO_structured_logistics
		x = -1
		y = 1

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1.5
				is_in_faction_with = GER
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = maintenance_company_tech_name
				bonus = 3
				uses = 1
				category = maintenance_company_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	shared_focus = {
		id = CRO_tank_conversions
		icon = GFX_goal_generic_production2
		prerequisite = { focus = CRO_special_forces }
		x = 0
		y = 1
		relative_position_id = CRO_special_forces

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1.2
				is_in_faction_with = GER
			}
		}

		available = {
			has_dlc = "Death or Dishonor"
		}

		completion_reward = {
			add_ideas = YUG_idea_tank_conversions
		}
	}

	shared_focus = {
		id = CRO_modern_tanks
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = CRO_artillery_regiments }
		x = 0
		y = 1
		relative_position_id = CRO_artillery_regiments

		cost = 10

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 2
				is_in_faction_with = GER
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = YUG_modern_tanks
				bonus = 1
				uses = 1
				category = armor
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = CRO_special_forces
		icon = GFX_goal_generic_special_forces
		prerequisite = { focus = CRO_supremacy_of_defense }
		relative_position_id = CRO_supremacy_of_defense
		x = 0
		y = 1
		cost = 10

		ai_will_do = {
			factor = 1
		}

		completion_reward = {

			add_tech_bonus = {
				name = special_forces_bonus
				bonus = 1
				uses = 1
				category = r56_jaeger_infantry_tech
				category = r56_marines_infantry_tech
				category = r56_mountain_infantry_tech
				category = r56_paratroops_infantry_tech	
				category = r56_shock_infantry_tech
			}
			add_tech_bonus = {
                name = special_forces_bonus
                bonus = 1.0
                uses = 1
                category = r56_special_forces_training_tech 
            }			
            hidden_effect = {
                set_country_flag = cite_an_airborne_unit_flag
            }
            unlock_decision_tooltip = { decision = cite_an_airborne_unit show_effect_tooltip = yes }			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = CRO_aviation_effort
		icon = GFX_goal_CRO_coa_air_force
		prerequisite = { focus = YUG_puppets }
		relative_position_id = YUG_puppets
		x = -12
		y = 1
		cost = 10

		ai_will_do = {
			factor = 1
		}
		complete_tooltip = {
			air_experience = 25
			if = { limit = { has_country_flag = aviation_effort_AB }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
		}

		completion_reward = {
			air_experience = 25

			if = {
				limit = {
					capital_scope = {
						NOT = {
							free_building_slots = {
								building = air_base
								size > 1
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
					ROOT = { set_country_flag = aviation_effort_AB }
				}
			}
			if = {
				limit = {
					capital_scope = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
				}
				capital_scope = {
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
					ROOT = { set_country_flag = aviation_effort_AB }
				}
			}
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}
	shared_focus = {
		id = CRO_airplanes_licenses
		icon = GFX_goal_multiple_bombers
		prerequisite = { focus = CRO_aviation_effort}
		mutually_exclusive = { focus = CRO_fighter_focus focus = CRO_bomber_focus}
		x = -2
		y = 1
		relative_position_id = CRO_aviation_effort

		cost = 7

		ai_will_do = {
			factor = 1
		}
		available = {
			has_dlc = "Death or Dishonor"
		}

		completion_reward = {
			add_ideas = CRO_idea_license_production
		}
	}
	shared_focus = {
		id = CRO_form_mechanics
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = CRO_airplanes_licenses focus = CRO_fighter_focus focus = CRO_bomber_focus}
		x = 0
		y = 1
		relative_position_id = CRO_airplanes_licenses

		cost = 10

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			add_ideas = CRO_idea_trained_mechanics
		}
	}
	shared_focus = {
		id = CRO_fighter_focus
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = CRO_aviation_effort }
		mutually_exclusive = { focus = CRO_bomber_focus focus = CRO_airplanes_licenses}
		relative_position_id = CRO_aviation_effort
		x = 0
		y = 1
		cost = 10

		completion_reward = {
			add_tech_bonus = {
				name = fighter_bonus
				bonus = 1
				uses = 1
				technology = early_fighter
				technology = fighter1
				technology = fighter2
				technology = fighter3
				technology = heavy_fighter1
				technology = heavy_fighter2
				technology = heavy_fighter3
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = CRO_bomber_focus
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = CRO_aviation_effort }
		mutually_exclusive = { focus = CRO_fighter_focus focus = CRO_airplanes_licenses}
		relative_position_id = CRO_aviation_effort
		x = 2
		y = 1
		cost = 10

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_tech_bonus = {
				name = bomber_bonus
				bonus = 1
				uses = 1
				technology = strategic_bomber1
				technology = strategic_bomber2
				technology = strategic_bomber3
				category = tactical_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = CRO_aviation_effort_2
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = CRO_bomber_focus focus = CRO_fighter_focus focus = CRO_airplanes_licenses}
		relative_position_id = CRO_aviation_effort
		x = 0
		y = 2
		cost = 10

		ai_will_do = {
			factor = 1
		}
		complete_tooltip = {
			air_experience = 25
			if = { limit = { has_country_flag = aviation_effort_2_AB }
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
		completion_reward = {
			air_experience = 25
			if = {
				limit = {
					capital_scope = {
						OR = {
							NOT = { is_controlled_by = ROOT }
							NOT = {
								free_building_slots = {
									building = air_base
									size > 1
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
					ROOT = { set_country_flag = aviation_effort_2_AB }
				}
			}
			if = {
				limit = {
					capital_scope = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
				}
				capital_scope = {
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
					ROOT = { set_country_flag = aviation_effort_2_AB }
				}
			}
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = CRO_CAS_effort
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = CRO_bomber_focus focus = CRO_fighter_focus focus = CRO_airplanes_licenses }
		relative_position_id = CRO_bomber_focus
		x = 0
		y = 1
		cost = 10

		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			add_tech_bonus = {
				name = CAS_bonus
				bonus = 1
				ahead_reduction = 1
				uses = 1
				category = cas_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	shared_focus = {
		id = CRO_expand_the_split_shipyards
		icon = GFX_goal_CRO_coa_navy
		prerequisite = { focus = YUG_puppets }
		relative_position_id = YUG_puppets
		x = -5
		y = 1

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			any_controlled_state = {
				is_coastal = yes
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	shared_focus = {
		id = CRO_coastal_defense
		icon = GFX_focus_generic_coastal_fort
		prerequisite = { focus = CRO_expand_the_split_shipyards }
		x = 1
		y = 1
		relative_position_id = CRO_expand_the_split_shipyards

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			OR = {
				has_full_control_of_state = 103
				has_full_control_of_state = 958
			}
		}

		bypass = {
			YUG = {
				has_completed_focus = YUG_coastal_defense
			}
		}

		completion_reward = {
			#forts on coast and harbor
			if = {
				limit = { has_full_control_of_state = 103 }
				103 = {
					custom_effect_tooltip = YUG_coastal_defense_effect_tt1
					custom_effect_tooltip = YUG_coastal_defense_effect_tt2
					hidden_effect = {
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_coastal = yes
							}
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { has_full_control_of_state = 958 }
				958 = {
					custom_effect_tooltip = YUG_coastal_defense_effect_tt1
					custom_effect_tooltip = YUG_coastal_defense_effect_tt2
					hidden_effect = {
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_coastal = yes
							}
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	shared_focus = {
		id = CRO_light_cruiser
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = CRO_coastal_defense }
		x = 1
		y = 2
		relative_position_id = CRO_expand_the_split_shipyards

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}

		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = YUG_replace_the_dalmacija
				bonus = 1
				uses = 1
				category = cl_tech
			}
			if = {
                limit = {
                    has_dlc = "Man the Guns"
                }
                add_tech_bonus = {
                    name = SPR_navy_modernization
                    bonus = 1
                    uses = 1
                    category = naval_gunnery_tech
                    category = naval_shell_tech
                }
            }			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = CRO_contest_the_adriatic
		icon = GFX_goal_generic_admirality
		prerequisite = { focus = CRO_expand_the_split_shipyards }
		x = -1
		y = 1
		relative_position_id = CRO_expand_the_split_shipyards

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}

		completion_reward = {
			navy_experience = 10
			add_doctrine_cost_reduction = {
				name = YUG_contest_the_adriatic
				cost_reduction = 0.5
				uses = 2
				category = naval_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = CRO_naval_bombers
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = CRO_contest_the_adriatic  }
		
		x = 0
		y = 1
		relative_position_id = CRO_contest_the_adriatic

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = YUG_naval_bombers
				bonus = 1
				uses = 1
				category = naval_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = CRO_heavy_cruiser_project
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = CRO_light_cruiser }
		x = 1
		y = 3
		relative_position_id = CRO_expand_the_split_shipyards

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = YUG_heavy_cruiser_project
				bonus = 1
				uses = 1
				category = ca_tech
			}
			if = {
                limit = {
                    has_dlc = "Man the Guns"
                }
				add_tech_bonus = {
					name = SPR_navy_modernization
					bonus = 1
					uses = 1
					category = naval_armor_tech
					category = damage_control_tech
					
				}
            }			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = CRO_modern_destroyers
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = CRO_naval_bombers }
		x = 0
		y = 1
		relative_position_id = CRO_naval_bombers

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = YUG_modern_destroyers
				bonus = 1
				uses = 1
				category = dd_tech
			}
			if = {
                limit = {
                    has_dlc = "Man the Guns"
                }
                add_tech_bonus = {
                    name = SPR_navy_modernization
                    bonus = 1
                    uses = 1
                    category = asw_tech
                }
            }			
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	shared_focus = {
		id = CRO_skilled_pilots
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = CRO_modern_destroyers focus = CRO_heavy_cruiser_project }
		mutually_exclusive = { focus = CRO_adriatic_specialization }
		x = 0
		y = 1
		relative_position_id = CRO_modern_destroyers

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
			NOT = {
				has_global_flag = yugoslav_croat_adriatic_training
			}			
		}

		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			navy_experience = 15
			every_navy_leader = { 
			
				add_coordination = 1
			}
			add_doctrine_cost_reduction = {
				name = YUG_contest_the_adriatic
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
			add_ideas = YUG_skilled_pilots											
		}
	}	
	shared_focus = {
		id = CRO_adriatic_specialization
		icon = GFX_focus_generic_adriatic_sea_focus
		prerequisite = { focus = CRO_modern_destroyers focus = CRO_heavy_cruiser_project }
		mutually_exclusive = { focus = CRO_skilled_pilots }
		x = 0
		y = 1
		relative_position_id = CRO_heavy_cruiser_project

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			any_owned_state = {
				is_coastal = yes
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }


		completion_reward = {
			navy_experience = 15
			add_doctrine_cost_reduction = {
				name = YUG_contest_the_adriatic
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
			every_navy_leader = { 
				add_unit_leader_trait = inshore_fighter
			}								
		}
	}	
	shared_focus = {
		id = CRO_build_the_nation
		icon = GFX_focus_generic_industry_2
		x = 7
		y = 1
		cost = 5
		prerequisite = { focus = YUG_puppets }
		relative_position_id = YUG_puppets
		ai_will_do = {
			factor = 99
			modifier = {
				factor = 10
				has_completed_focus = CRO_home_guard
			}
		}
		
		completion_reward = {
			random_owned_controlled_state = {
				
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				uses = 1
				category = industry
			}
			add_tech_bonus = {
				name = construction_tech_bonus
				bonus = 1
				uses = 1
				category = construction_tech
			}
			if = {
				limit = {
					NOT = {
						has_tech = basic_machine_tools
					}
					date > 1937.06.01
				}
				set_technology = { basic_machine_tools = 1 }
				set_technology = { improved_machine_tools = 1 }
				set_technology = { dispersed_industry = 1 }
				set_technology = { construction1 = 1 }
				set_technology = { support_weapons = 1 }
				set_technology = { electronic_mechanical_engineering = 1 }
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}
	

	
	shared_focus = {
		id = CRO_construction_effort
		icon = GFX_focus_generic_industry_3
		prerequisite = { focus = CRO_build_the_nation }
		relative_position_id = CRO_build_the_nation
		x = 2
		y = 1
		cost = 5

		ai_will_do = {
			factor = 99
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = yes
					}
				}
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				uses = 1
				category = industry
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
	}

	shared_focus = {
		id = CRO_production_effort
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = CRO_construction_effort }
		relative_position_id = CRO_construction_effort
		x = 0
		y = 1
		cost = 5

		ai_will_do = {
			factor = 99
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
			}
		}

		completion_reward = {
			if =  {
				limit = {
					num_of_controlled_states < 1
				}
				add_offsite_building = { type = arms_factory level = 1 }
			}

			else = {
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						OR = {
							is_in_home_area = yes
							NOT = {
								owner = {
									any_owned_state = {
										free_building_slots = {
											building = arms_factory
											size > 0
											include_locked = yes
										}
										is_in_home_area = yes
									}
								}
							}
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	
	shared_focus = {
		id = CRO_infrastructure_effort
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = CRO_build_the_nation }
		relative_position_id = CRO_build_the_nation
		x = -1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 99
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = infrastructure_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = infrastructure
						size < 1
					}
				}
			}
		}
		
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 0
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = infrastructure
										size > 1
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	
	shared_focus = {
		id = CRO_prospect_for_resources
		icon = GFX_goal_generic_mining_iron
		prerequisite = { focus = CRO_infrastructure_effort }
		relative_position_id = CRO_infrastructure_effort
		x = -1
		y = 1
		cost = 10

		completion_reward = {
			add_tech_bonus = {
				name = excavation_tech_bonus_name
				bonus = 3
				uses = 2
				category = excavation_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		ai_will_do = {
			factor = 99
		}
	}
	
	shared_focus = {
		id = CRO_extract_chromium
		icon = GFX_goal_generic_chromium
		prerequisite = { focus = CRO_prospect_for_resources }
		relative_position_id = CRO_prospect_for_resources
		x = 1
		y = 1
		cost = 5

		available = {
			
		}

		bypass = {
			
		}

		completion_reward = {
			random_owned_controlled_state = {
				add_resource = {
					type = chromium
					amount = 8
				}
			}
			
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_CHROMIUM}

		ai_will_do = {
			factor = 3
		}
	}
	
	shared_focus = {
		id = CRO_extract_oil
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = CRO_prospect_for_resources }
		relative_position_id = CRO_prospect_for_resources
		x = -1
		y = 1
		cost = 5

		available = {
		
		}

		

		completion_reward = {
			952 = {
				add_resource = {
					type = oil
					amount = 4
				}
			}
			
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_OIL}

		ai_will_do = {
			factor = 99
		}
	}
	
	shared_focus = {
		id = CRO_expand_the_university_of_zagreb
		icon = GFX_focus_research
		prerequisite = { focus = CRO_infrastructure_effort }
		prerequisite = { focus = CRO_production_effort }
		relative_position_id = CRO_production_effort
		x = -1
		y = 1
		cost = 10
		ai_will_do = {
			factor = 99
		}

		available = {
			NOT = {
				YUG = {
					focus_progress = {
						focus = YUG_expand_the_university_of_zagreb
						progress > 0
					}
				}
			}
		}
		bypass = {
		  	YUG = {has_completed_focus = YUG_expand_the_university_of_zagreb}
		}
		completion_reward = {
			add_research_slot = 1
			if = {
				limit = {
					has_dlc = "Death or Dishonor"
					country_exists = YUG
				}
				YUG = { add_research_slot = 1}
			}
			if = {
				limit = {
					has_dlc = "Death or Dishonor"
					NOT = {country_exists = YUG}
				}
				set_global_flag = YUG_zagreb_university_flag
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	
	shared_focus = {
		id = CRO_extra_tech_slot_2
		icon = GFX_focus_research2
		prerequisite = { focus = CRO_expand_the_university_of_zagreb }
		relative_position_id = CRO_expand_the_university_of_zagreb
		available = {
			if = {
				limit = {
					amount_research_slots > 4
				}
				num_of_factories > 35
			}
		}
		ai_will_do = {
			factor = 99
		}
		cancel_if_invalid = no
		continue_if_invalid = yes
		x = 2
		y = 1
		cost = 10

		completion_reward = {
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	
	shared_focus = {
		id = CRO_develop_bosnia
		icon = GFX_focus_generic_aluminum
		prerequisite = { focus = CRO_expand_the_university_of_zagreb }
		relative_position_id = CRO_expand_the_university_of_zagreb
		x = -2
		y = 1
		cost = 5

		available = {
			
		}

		completion_reward = {
            random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
                    type = infrastructure
                    level = 1
                    instant_build = yes
                }
				add_resource = {
					type = aluminium
					amount = 7
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ALUMINIUM}

		ai_will_do = {
			factor = 99
		}
	}
	shared_focus = {
		id = CRO_expand_the_sarajevo_arsenals
		icon = GFX_goal_generic_war_factory
		prerequisite = { focus = CRO_develop_bosnia }
		prerequisite = { focus = CRO_industrial_planning }
		x = 0
		y = 1
		relative_position_id = CRO_develop_bosnia

		cost = 5

		ai_will_do = {
			factor = 99
		}

		available = {
			
		}

		bypass = {
		  	
		}

		complete_tooltip = {

		}

		completion_reward = {
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	
	shared_focus =	{
		id = CRO_industrial_planning
		icon = GFX_goal_plan
		prerequisite = { focus = CRO_expand_the_university_of_zagreb }
		relative_position_id = CRO_expand_the_university_of_zagreb
		x = 0
		y = 1
		cost = 5
		
		ai_will_do = {
			factor = 99
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 103 }
				limit = {
					is_in_home_area = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			random_owned_controlled_state = {
				prioritize = { 958 }
				limit = {
					is_in_home_area = yes
				}
				add_extra_state_shared_building_slots = 2
			}
			random_owned_controlled_state = {
				prioritize = { 959 }
				limit = {
					is_in_home_area = yes
				}
				add_extra_state_shared_building_slots = 2
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	shared_focus = {
		id = CRO_construction_effort_2
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = CRO_industrial_planning }
		relative_position_id = CRO_industrial_planning
		x = 0
		y = 1
		cost = 5

		ai_will_do = {
			factor = 99
		}

		

		complete_tooltip = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 1
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	shared_focus = {
		id = CRO_production_effort_2
		icon = GFX_goal_generic_build_tank
		prerequisite = { focus = CRO_production_effort }
		relative_position_id = CRO_production_effort
		x = 1
		y = 1
		cost = 10

		ai_will_do = {
			factor = 99
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
			}
		}

		complete_tooltip = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}



	shared_focus = {
		id = CRO_production_effort_3
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = CRO_production_effort_2 }
		relative_position_id = CRO_production_effort_2
		x = 0
		y = 1
		cost = 10
		
		ai_will_do = {
			factor = 99
		}
		bypass = {
			custom_trigger_tooltip = {
				tooltip = production_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}
				}
			}
		}
		complete_tooltip = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

shared_focus = {
		id = CRO_nuclear_effort
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = CRO_construction_effort_2 }
		relative_position_id = CRO_construction_effort_2
		x = 0
		y = 1
		cost = 10


		completion_reward = {
			add_tech_bonus = {
				name = nuclear_bonus
				ahead_reduction = 0.5
				category = nuclear
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.25
				always = yes
			}
		}
	}

	shared_focus = {
		id = CRO_political_effort
		icon = GFX_goal_flag_croatia
		x = 20
		y = 1
		cost = 10
		prerequisite = { focus = YUG_puppets }
		relative_position_id = YUG_puppets
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 10
				has_completed_focus = CRO_home_guard
			}
		}
		

		completion_reward = {
			add_political_power = 120
			if = {
				limit = {
					NOT = {
						has_tech = basic_machine_tools
					}
					date > 1937.06.01
				}
				set_technology = { basic_machine_tools = 1 }
				set_technology = { improved_machine_tools = 1 }
				set_technology = { dispersed_industry = 1 }
				set_technology = { construction1 = 1 }
				set_technology = { support_weapons = 1 }
				set_technology = { electronic_mechanical_engineering = 1 }
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL }
	}
	shared_focus = {
		id = CRO_reclaim_the_coast
		icon = GFX_goal_generic_occupy_states_ongoing_war
		x = 2
		y = 1
		prerequisite = { focus = CRO_political_effort }
		relative_position_id = CRO_political_effort
		cost = 10

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				AND = {
					is_historical_focus_on = yes
					NOT = { has_government = fascism }
				}
			}
			modifier = {
				factor = 0
				has_army_manpower = {
					size < 49999
				}
			}					
		}

		allow_branch = {
			always = no
				# has_game_rule = {
				# 	rule = ita_fragmentation_status
				# 	option = ITA_FRAGMENTED_SERENISSIMA
				# }
				# has_game_rule = {
				# 	rule = ita_fragmentation_status
				# 	option = ITA_FRAGMENTED_SERENISSIMA_TWO_SICILES
				# }
				# has_game_rule = {
				# 	rule = ita_fragmentation_status
				# 	option = ITA_FRAGMENTED
				# }
			NOT = {
				owns_state = 103
			}
		}	

		available = {
			is_puppet = no
			r56_script_i_am_sane = yes
			NOT = {
				owns_state = 103
			}			
		}
		bypass = {
			owns_state = 103
		}


		completion_reward = {
			add_threat = 1
			103 = {
				OWNER = {
					ROOT = {
						create_wargoal = {
							target = PREV
							expire = 0
							type = take_state_focus
							generator = { 103 }
						}
						add_ai_strategy = {
							type = conquer
							id = PREV
							value = 200
						}
					}
				}
			}
			163 = {
				OWNER = {
					ROOT = {
						create_wargoal = {
							target = PREV
							expire = 0
							type = take_state_focus
							generator = { 163 }
						}
						add_ai_strategy = {
							type = conquer
							id = PREV
							value = 200
						}
					}
				}
			}			
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}
	shared_focus = {
		id = CRO_nationalism_focus
		icon = GFX_goal_CRO_national_rebirth #icon = GFX_goal_tripartite_pact
		prerequisite = { focus = CRO_political_effort }
		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
			if = {
				limit = {
					is_puppet = yes
				}
				CRO = {
					OVERLORD = {
						has_government = fascism
					}
				}
			}
		}
		relative_position_id = CRO_political_effort
		x = 4
		y = 1
		cost = 5

		

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				is_puppet = yes
				CRO = {
					OVERLORD = {
						NOT = {
							has_government = fascism
						}
					}
				}
			}
			modifier = {
				factor = 5
				is_puppet = yes
				CRO = {
					OVERLORD = {
						has_government = fascism
					}
				}
			}
			modifier = {
				factor = 2
				any_neighbor_country = {
					is_major = yes
					has_government = fascism
				}
			}
			modifier = {
				factor = 0
				AND = {
					is_historical_focus_on = yes
					NOT = { has_government = fascism }
				}
			}
		}

		completion_reward = {
			add_timed_idea = { idea = nationalism days = 1395 }
		}
	}
	shared_focus = {
		id = CRO_a_king_for_our_people_focus
		icon = GFX_focus_YUG_banovina_of_croatia #icon = GFX_goal_tripartite_pact
		prerequisite = { focus = CRO_nationalism_focus }
		mutually_exclusive = { focus = CRO_enforce_pavelic_rule }
		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
			NOT = {
				OR = {
					is_puppet_of = YUG
					is_puppet_of = SER
				}
			}
		}
		relative_position_id = CRO_nationalism_focus
		x = 2
		y = 1
		cost = 5

		ai_will_do = {
			factor = 6
			modifier = {
				factor = 0
				ITA = {
					NOT = {
						has_government = fascism
					}
				}
			}
		}

		completion_reward = {
			add_ideas = CRO_tomislav_II
			add_political_power = 50
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}
	shared_focus = {
		id = CRO_enforce_pavelic_rule
		icon = GFX_goal_demand_sudetenland #icon = GFX_goal_tripartite_pact
		prerequisite = { focus = CRO_nationalism_focus }
		mutually_exclusive = { focus = CRO_a_king_for_our_people_focus }
		available = {
				has_government = fascism
		}
		relative_position_id = CRO_nationalism_focus
		x = 4
		y = 1
		cost = 5

		ai_will_do = {
			factor = 6
		}

		completion_reward = {
			add_country_leader_trait = Poglavnik
		}
	}
	shared_focus = {
		id = CRO_italian_influence_focus
		icon = GFX_focus_generic_italy_first #icon = GFX_goal_tripartite_pact
		prerequisite = { focus = CRO_a_king_for_our_people_focus }
		mutually_exclusive = { focus = CRO_dalmatian_question_focus }
		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
			ITA = {
				OR = {
					has_government = fascism
					has_government = neutrality
				}
			}
			NOT = {
				has_war_with = ITA
			}
			if = {
				limit = {
					ITA = {
						is_in_faction = yes
					}
				}
				is_in_faction_with = ITA

			}
			country_exists = ITA
		}
		relative_position_id = CRO_a_king_for_our_people_focus
		x = -1
		y = 1
		cost = 5

		ai_will_do = {
			factor = 6
			modifier = {
				factor = 0
				ITA = {
					NOT = {
						has_government = fascism
					}
				}
			}
		}

		completion_reward = {
			add_ideas = PRU_italian_military_mission
			add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
			ITA = {
				add_opinion_modifier = { target = CRO modifier = cro_diplomacy_focus }
			}
		}
	}
	shared_focus = { #spawn unit with trucks and artillery support for the italians, grant autonomy if the country is an italian puppet and land xp too
			##gift in the form of an event? Require war with the USSR??
		id = CRO_italo_croat_legion
		icon = GFX_goal_italo_croat_legion #icon = GFX_goal_tripartite_pact
		prerequisite = { focus = CRO_italian_influence_focus }
		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
			CRO = { has_war_together_with = ITA }
			ITA = {
				has_government = fascism
			}
		}
		relative_position_id = CRO_italian_influence_focus
		x = 0
		y = 1
		cost = 4

		ai_will_do = {
			factor = 4
			modifier = {
				factor = 0
				ITA = {
					NOT = {
						has_government = fascism
					}
				}
			}
		}

		completion_reward = {
			army_experience = 15
			custom_effect_tooltip = axis_minors_croatia_italo_croat_tooltip
			hidden_effect = {
				division_template = {
					name = "Hrvatska Legija"		# Same for "Active" and "Reserve" Infantry Divisions

					regiments = {
						motorized = { x = 0 y = 0 }
						motorized = { x = 0 y = 1 }
						motorized = { x = 0 y = 2 }
						motorized = { x = 1 y = 0 }
						motorized = { x = 1 y = 1 }
						motorized = { x = 1 y = 2 }
					}
					support = {
						recon = { x = 0 y = 0 }
						logistics_company = { x = 0 y = 1 }
						maintenance_company = { x = 0 y = 2 }
					}
				}
				load_oob = CRO_italo_croat_legion
			}
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
	}
	shared_focus = {
		id = CRO_dalmatian_question_focus
		icon = GFX_goal_generic_more_territorial_claims #icon = GFX_goal_tripartite_pact
		prerequisite = { focus = CRO_a_king_for_our_people_focus focus = CRO_enforce_pavelic_rule }
		mutually_exclusive = { focus = CRO_italian_influence_focus }
		available = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
		}
		relative_position_id = CRO_a_king_for_our_people_focus
		x = 1
		y = 1
		cost = 5

		ai_will_do = {
			factor = 6
			modifier = {
				factor = 0
				ITA = {
					NOT = {
						has_government = fascism
					}
				}
			}
		}

		completion_reward = {
			add_state_core = 736
			if = {
				limit = {
					owns_state = 103
				}
				add_state_core = 163
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}
	shared_focus = {
		id = CRO_militarism
		icon = GFX_goal_generic_army_mobilization
		prerequisite = { focus = CRO_nationalism_focus }
		available = {
			has_government = fascism

		}
		relative_position_id = CRO_nationalism_focus
		x = -1
		y = 1
		cost = 10

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				any_neighbor_country = {
					is_major = yes
					has_government = fascism
				}
			}
			modifier = {
				factor = 0
				AND = {
					is_historical_focus_on = yes
					NOT = { has_government = fascism }
				}
			}
		}

		completion_reward = {
			add_ideas = CRO_militarism_focus
			army_experience = 10
            add_tech_bonus = {
                name = mp_tech_bonus_name
                bonus = 3
                uses = 1
				category = military_police_tech
            }
			custom_effect_tooltip = axis_minors_croatia_ustashe_militia_tooltip
			hidden_effect = {
				division_template = {
					name = "Ustaka vojnica"		# ustashe militia

					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
					}
					support = {
						military_police = { x = 0 y = 0 }
					}
				}
				load_oob = CRO_ustashe_militia
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH  FOCUS_FILTER_MANPOWER }
	}
	shared_focus = {
		id = CRO_military_youth
		icon = GFX_goal_generic_recruitment
		prerequisite = { focus = CRO_militarism }
		relative_position_id = CRO_militarism
		x = 0
		y = 1
		cost = 10

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_ideas = military_youth_focus
			if = {
				limit = { has_government = fascism }
				add_popularity = {
					ideology = fascism
					popularity = 0.2
				}
			}
			if = {
				limit = { has_government = communism }
				add_popularity = {
					ideology = communism
					popularity = 0.2
				}
			}
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
	}
	shared_focus = {
		id = CRO_form_peasant_councils
		icon = GFX_goal_generic_communist_government2
		prerequisite = { focus = CRO_political_effort }
		available = {
			OR = {
				has_government = communism
				NOT = {
					OR = {
						has_completed_focus = CRO_liberty_ethos
						has_completed_focus = CRO_nationalism_focus
					}
				}
			}
			if = {
				limit = {
					is_subject = yes
					OVERLORD = {
						has_government = communism
					}
				}
				OVERLORD = {
					has_government = communism
				}
			}
		}
		relative_position_id = CRO_political_effort
		x = -5
		y = 1
		cost = 5

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				any_neighbor_country = {
					is_major = yes
					has_government = communism
				}
			}
			modifier = {
				factor = 0
				AND = {
					is_historical_focus_on = yes
					NOT = { has_government = communism }
				}
			}
		}
		completion_reward = {
			add_ideas = internationalism
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	shared_focus = {
		id = CRO_join_yugoslavia
		icon = GFX_goal_generic_befriend_yugoslavia_communist
		prerequisite = { focus = CRO_form_peasant_councils }
		relative_position_id = CRO_form_peasant_councils
		available = {
			OR = {
				AND = {
					CRO = { is_subject_of = OVERLORD }
					YUG = { is_subject_of = OVERLORD }
				}
				CRO = { is_subject_of = YUG }
			}
			YUG = { has_government = communism }
			has_government = communism
			has_war = no
			is_ai = yes
			is_neighbor_of = YUG
		}

		x = -3
		y = 1
		cost = 2


		ai_will_do = {
			factor = 150
		}

		completion_reward = {
			YUG = {
				annex_country = { target = CRO }
			}
			every_state = {
				limit = {is_core_of = CRO}
				add_core_of = YUG
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}
	shared_focus = {
		id = CRO_local_militias
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = CRO_form_peasant_councils }
		x = -1
		y = 1
		relative_position_id = CRO_form_peasant_councils

		cost = 10

		ai_will_do = {
			factor = 5
		}

		available = {
			has_government = communism
			if = {
				limit = {
					is_subject = yes
					OVERLORD = {
						has_government = communism
					}
				}
			}
		}

		completion_reward = {
			add_ideas = CRO_idea_communist_militias
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER }
	}
	shared_focus = {
		id = CRO_liberty_ethos
		icon = GFX_goal_support_democracy
		prerequisite = { focus = CRO_political_effort }
		available = {
			OR = {
				has_government = democratic
				has_government = neutrality
			}
			NOT = {
				OR = {
					has_completed_focus = CRO_nationalism_focus
					has_completed_focus = CRO_form_peasant_councils
				}
			}
			if = {
				limit = {
					FROM = { is_subject = yes }

				}
				FROM = {
					OVERLORD = {
						OR = {
							has_government = democratic
							has_government = neutrality
						}
					}
				}
			}
		}
		relative_position_id = CRO_political_effort
		x = 0
		y = 1
		cost = 5

		ai_will_do = {
			factor = 95
			modifier = {
				factor = 0.1
				any_neighbor_country = {
					is_major = yes
					OR = {
						has_government = communism
						has_government = fascism
					}
				}
				NOT = {
					any_neighbor_country = {
						is_major = yes
						has_government = democratic
					}
				}
			}
		}

		completion_reward = {
			add_ideas = liberty_ethos_focus
			add_ideas = democratic_influence
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	
	shared_focus = {
		id = CRO_trading_infrastructures
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = CRO_liberty_ethos}
		mutually_exclusive = {focus = CRO_zagreb_investments_focus}
		available = {
			has_full_control_of_state = 103
			has_full_control_of_state = 958
			if = {
				limit = {
					OR = {
						has_government = neutrality
						has_government = democratic
					}
				}
			}
		}
		relative_position_id = CRO_liberty_ethos
		x = 1
		y = 1
		cost = 10

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			958 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			103 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 3924
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 6889
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	
	shared_focus = {
		id = CRO_catholic_dominance_focus
		icon = GFX_goal_christianity_and_state
		prerequisite = { focus = CRO_political_effort }
		mutually_exclusive = { focus = CRO_secularism_focus }
		available = {
			NOT = {
				has_government = communism
			}
			if = {
				limit = {
					OR = {
						has_government = neutrality
						has_government = democratic
					}
				}
				NOT = {
					has_completed_focus = CRO_secularism_focus
				}
			}
		}
		relative_position_id = CRO_political_effort
		x = 12
		y = 1
		cost = 10

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				any_neighbor_country = {
					is_major = yes
					has_government = fascism

				}
				NOT = {
					any_neighbor_country = {
						is_major = yes
						has_government = democratic
					}
				}
			}
		}

		completion_reward = {
			add_ideas = CRO_catholic_dominance
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
	}
	shared_focus = {
		id = CRO_secularism_focus
		icon = GFX_focus_YUG_guarantee_religious_liberties
		prerequisite = { focus = CRO_political_effort }
		mutually_exclusive = { focus = CRO_catholic_dominance_focus }
		
		available = {
			NOT = {
				has_government = fascism
			}
			if = {
				limit = {
					OR = {
						has_government = neutrality
						has_government = democratic
					}
				}
				NOT = {
					has_completed_focus = CRO_catholic_dominance_focus
				}
			}
		}
		relative_position_id = CRO_catholic_dominance_focus
		x = -2
		y = 0
		cost = 10

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				any_neighbor_country = {
					is_major = yes
					has_government = democratic

				}
				NOT = {
					any_neighbor_country = {
						is_major = yes
						has_government = fascism
					}
				}
			}
		}

		completion_reward = {
			swap_ideas = { remove_idea = CRO_religious_minorities add_idea = CRO_secularism }
		}
	}
	shared_focus = {
		id = CRO_integrate_muslim_croats_focus
		icon = GFX_goal_generic_citizens
		prerequisite = { focus = CRO_catholic_dominance_focus }
		relative_position_id = CRO_catholic_dominance_focus
		x = 0
		y = 1
		cost = 10

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			add_ideas = CRO_croat_muslims_happy
			add_stability = 0.05
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER }
	}
	
	shared_focus = {
		id = CRO_bosnian_muslim_conscription_focus
		icon = GFX_goal_generic_into_fire
		prerequisite = { focus = CRO_integrate_muslim_croats_focus focus = CRO_integrate_religious_minorities_focus }
		relative_position_id = CRO_integrate_muslim_croats_focus
		x = -1
		y = 1
		cost = 5

		available = {
			has_government = fascism
			OR = {
				controls_state = 104
				controls_state = 804
				controls_state = 961
				controls_state = 962
			}
		}


		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			add_state_core = 104
			add_state_core = 804
			add_state_core = 961
			add_state_core = 962
			add_war_support = 0.1
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_WAR_SUPPORT }
	}
	
	shared_focus = {
		id = CRO_integrate_orthodox_croats_focus
		icon = GFX_goal_CRO_reconcile_croatian_orthodox
		prerequisite = { focus = CRO_integrate_muslim_croats_focus }
		relative_position_id = CRO_integrate_muslim_croats_focus
		x = 1
		y = 1
		cost = 10


		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			add_political_power = 100
			add_stability = 0.05
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }
	}
	
	shared_focus = {
		id = CRO_integrate_religious_minorities_focus
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = CRO_secularism_focus}
		relative_position_id = CRO_secularism_focus
		x = 0
		y = 1
		cost = 10

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = CRO_secularism
				add_idea = CRO_religious_minorities_happy
			}
			#if = {
			#	limit = {
			#		controls_state = 104
			#	}
			#	CRO = { add_state_core = 104 }
			#	#complete_national_focus = CRO_integrate_bosnia_focus
			#}
		}
	}
	
	shared_focus = {
		id = CRO_economic_centralization
		icon = GFX_goal_generic_communist_economy
		prerequisite = { focus = CRO_form_peasant_councils }
		relative_position_id = CRO_form_peasant_councils
		x = 1
		y = 1
		cost = 10

		ai_will_do = {
			factor = 3
		}
		available = {
			has_government = communism
		}
		completion_reward = {
			if = {
				limit = { has_idea = neutrality_idea }
				remove_ideas = neutrality_idea
			}
			add_political_power = 50
			add_ideas = CRO_idea_economic_centralization
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	
	shared_focus = {
		id = CRO_nationalize_factories
		icon = GFX_goal_generic_land_seizure
		prerequisite = { focus = CRO_economic_centralization }
		relative_position_id = CRO_economic_centralization
		available = {
			has_government = communism
			if = {
				limit = {
					is_subject = yes
					OVERLORD = {
						has_government = communism
					}
				}
			}
		}

		x = 1
		y = 1
		cost = 10


		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			add_ideas = idea_communist_central_management
			add_political_power = 100
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	shared_focus = {
		id = CRO_local_steel_production
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = CRO_nationalize_factories }
		relative_position_id = CRO_nationalize_factories
		x = 0
		y = 1
		cost = 5

		available = {
			OR = {
				has_full_control_of_state = 109
				has_full_control_of_state = 958
			}
			has_government = communism
		}

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			if = {
				limit = {
					has_full_control_of_state = 109
				}
				109 = {
					add_resource = {
						type = steel
						amount = 2
					}
				}
			}
			if = {
				limit = {
					has_full_control_of_state = 958
				}
				958 = {
					add_resource = {
						type = steel
						amount = 1
					}
				}
			}
            add_tech_bonus = {
                name = construction_tech_bonus
                bonus = 1
				uses = 1
				category = steel_tech
            }				
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_STEEL}
	}

	shared_focus = {
		id = CRO_zagreb_investments_focus
		icon = GFX_goal_generic_light_industry
		prerequisite = { focus = CRO_liberty_ethos }
		mutually_exclusive = {focus = CRO_trading_infrastructures}
		relative_position_id = CRO_liberty_ethos
		x = -1
		y = 1
		cost = 10
		available = {
			OR = {
				has_government = neutrality
				has_government = democratic
			}
			controls_state = 109
		}

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			109 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	
	shared_focus = {
		id = CRO_economic_optimization
		icon = GFX_goal_generic_economics_reform
		prerequisite = { focus = CRO_zagreb_investments_focus }
		relative_position_id = CRO_zagreb_investments_focus
		mutually_exclusive = {focus = CRO_industrial_support}
		x = 0
		y = 1
		cost = 10

		ai_will_do = {
			factor = 3
		}
		completion_reward = {
			add_ideas = CRO_idea_economic_optimization
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	
	shared_focus = {
		id = CRO_research_grants
		icon = GFX_goal_supremacy_of_will
		prerequisite = { focus = CRO_economic_optimization focus = CRO_industrial_support}
		mutually_exclusive = {focus = CRO_deterrence}
		relative_position_id = CRO_economic_optimization
		x = 0
		y = 1
		cost = 10

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_ideas = CRO_idea_research_grants
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	
	shared_focus = {
		id = CRO_industrial_support
		icon = GFX_focus_hol_the_foundations_of_defense
		prerequisite = { focus = CRO_trading_infrastructures focus = CRO_zagreb_investments_focus}
		mutually_exclusive = {focus = CRO_economic_optimization}
		relative_position_id = CRO_trading_infrastructures
		x = 0
		y = 1
		cost = 10
		available = {
			OR = {
				has_government = neutrality
				has_government = democratic
			}
		}

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 958 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_ideas = CRO_idea_industrial_support
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	
	shared_focus = {
		id = CRO_deterrence
		icon = GFX_goal_generic_city_chain_forts
		prerequisite = { focus = CRO_economic_optimization focus = CRO_industrial_support}
		relative_position_id = CRO_economic_optimization
		mutually_exclusive = {focus = CRO_research_grants}
		x = 2
		y = 1
		cost = 10

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_ideas = deterrence
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	
	shared_focus = {
		id = CRO_why_we_fight
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = CRO_deterrence  focus = CRO_research_grants}
		available = {
			OR = {
				threat > 0.75
				has_defensive_war = yes
			}
		}

		continue_if_invalid = yes

		relative_position_id = CRO_deterrence
		x = -1
		y = 1
		cost = 10

		ai_will_do = {
			factor = 3
		}

		completion_reward = {
			add_ideas = why_we_fight_focus
			custom_effect_tooltip = why_we_fight_effect
			hidden_effect = {
				if = {
					limit = { NOT = { has_idea = neutrality_idea } }
					set_rule = { can_create_factions = yes }
				}
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT }
	}
	
	shared_focus = {
		id = CRO_anti_partizan_tactics
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = CRO_military_youth }
		relative_position_id = CRO_political_effort
		x = 3
		y = 4
		cost = 10

		ai_will_do = {
			factor = 2
		}

		completion_reward = {
			add_ideas = CRO_idea_anti_partizan_tactics
			add_tech_bonus = {
				name = CRO_mountain_brigades
				bonus = 0.5
				uses = 1
				category = mountaineers_tech
			}
            add_tech_bonus = {
                name = mp_tech_bonus_name
                bonus = 1
                uses = 1
				category = military_police_tech
            }
		}
		search_filters = { FOCUS_FILTER_RESEARCH  FOCUS_FILTER_MANPOWER }
	}
	
	shared_focus = {
		id = CRO_faithful_ally
		icon = GFX_goal_CRO_faithful_ally
		prerequisite = { focus = CRO_anti_partizan_tactics }
		relative_position_id = CRO_anti_partizan_tactics
		x = 0
		y = 2
		cost = 10
		available = {
			has_dlc = "Together for Victory"
			has_government = fascism
			CRO = {
				is_subject = yes
				OVERLORD = { has_government = fascism }
				has_war = yes
			}
			has_army_manpower = { size > 90000 }
		}

		completion_reward = {
			add_autonomy_ratio = {
				value = 0.9
				localization = slovak_autonomy
			}
		}
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY }
	}
	
	shared_focus = {
		id = CRO_liberate_bosnian_croats
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = CRO_military_youth }
		relative_position_id = CRO_military_youth
		x = 1
		y = 2
		cost = 5
		available = {
			804 = {
				OWNER = {
					r56_script_target_is_sane = yes
					NOT = {
						OR = {
							original_tag = CRO
							is_in_faction_with = CRO
						}
					}				
				}
			}
			r56_script_i_am_sane = yes		
		}

		completion_reward = {
			804 = {
				OWNER = {
					ROOT = {
						create_wargoal = {
							target = PREV
							expire = 0
							type = take_state_focus
							generator = { 104 804 961 962 }
						}
						add_ai_strategy = {
							type = conquer
							id = PREV
							value = 200
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}


	shared_focus = {
		id = CRO_political_commissars
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = CRO_economic_centralization }
		prerequisite = { focus = CRO_local_militias }
		relative_position_id = CRO_local_militias
		x = 1
		y = 1
		cost = 10

		available = {
			has_government = communism
			if = {
				limit = {
					is_subject = yes
					OVERLORD = {
						has_government = communism
					}
				}
			}
		}
		
		ai_will_do = {
			factor = 4
		}

		completion_reward = {
			add_ideas = political_commissars_focus
			if = {
				limit = { has_government = fascism }
				add_popularity = {
					ideology = fascism
					popularity = 0.2
				}
			}
			if = {
				limit = { has_government = communism }
				add_popularity = {
					ideology = communism
					popularity = 0.2
				}
			}
			add_political_power = 100
            add_tech_bonus = {
                name = mp_tech_bonus_name
                bonus = 1
                uses = 1
				category = military_police_tech
            }
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL }
	}

	shared_focus = {
		id = CRO_organized_partizans
		icon = GFX_goal_generic_left_militia
		prerequisite = { focus = CRO_political_commissars }
		relative_position_id = CRO_political_commissars
		x = -1
		y = 1
		cost = 10
		
		available = {
			has_government = communism
			if = {
				limit = {
					is_subject = yes
					OVERLORD = {
						has_government = communism
					}
				}
			}
			has_defensive_war = yes
		}
		ai_will_do = {
			factor = 3
			modifier = {
				has_capitulated = yes
				factor = 10
			}
		}

		completion_reward = {
			swap_ideas = { remove_idea = CRO_idea_communist_militias add_idea = CRO_veteran_partisans}
			add_tech_bonus = {
				name = recon_tech_bonus_name
				bonus = 1
				uses = 1
				category = recon_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	shared_focus = {
		id = CRO_ideological_fanaticism_communism
		icon = GFX_goal_spread_communism
		prerequisite = { focus = CRO_political_commissars }
		relative_position_id = CRO_political_commissars
		x = 0
		y = 2
		cost = 10

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			add_ideas = ideological_fanaticism_focus
			set_rule = {
				can_create_factions = yes
			}
			hidden_effect = {
				set_rule = { can_use_kamikaze_pilots = yes }
			}
			custom_effect_tooltip = kamikaze_focus_tooltip
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
	}
	
	shared_focus = {
		id = CRO_ideological_fanaticism_ustasha
		icon = GFX_goal_CRO_ustasha_fanaticism
		prerequisite = { focus = CRO_military_youth }
		relative_position_id = CRO_political_effort
		x = 2
		y = 5
		cost = 10

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			add_ideas = ideological_fanaticism_focus
			set_rule = {
				can_create_factions = yes
			}
			hidden_effect = {
				set_rule = { can_use_kamikaze_pilots = yes }
			}
			custom_effect_tooltip = kamikaze_focus_tooltip
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT }
	}

	shared_focus = {
		id = CRO_technology_sharing
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = CRO_ideological_fanaticism_communism focus = CRO_ideological_fanaticism_ustasha focus = CRO_why_we_fight}
		available = {
			has_war = yes
			is_in_faction = yes
			if = {
				limit = {
					amount_research_slots > 4
				}
				num_of_factories > 35
			}
		}
		relative_position_id = CRO_political_effort
		x = 0
		y = 6
		cost = 10

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			if = {
				limit = {
					original_research_slots < 3
				}
				add_research_slot = 1
			}
			if = {
				limit = {
					original_research_slots > 2
				}
				add_tech_bonus = {
					name = electronics_bonus
					bonus = 1
					uses = 1
					category = electronics
				}
				add_tech_bonus = {
					name = industrial_bonus
					bonus = 1
					uses = 1
					category = industry
				}
				add_tech_bonus = {
					name = infantry_weapons_bonus
					bonus = 1
					uses = 1
					category = infantry_weapons
					category = artillery
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}








	
	